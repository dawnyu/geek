<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>hooks | VitePress</title>
    <meta name="description" content="ä¸“æ³¨äºåˆ†äº«æœ€æœ‰ä»·å€¼çš„äº’è”ç½‘æŠ€æœ¯å¹²è´§">
    <link rel="preload stylesheet" href="/assets/style.450b9bbc.css" as="style">
    
    <script type="module" src="/assets/app.831d29e3.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.bc643b65.js">
    <link rel="modulepreload" href="/assets/chunks/theme.d5a5a7f6.js">
    <link rel="modulepreload" href="/assets/interview-question_react hooks.md.cc901b1d.lean.js">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/" data-v-86d1bed8><!--[--><!--]--><!----><!--[-->æå®¢éƒ¨è½<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>ğŸ“š ä¹¦ç±æ¨è</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/category?k=%E5%89%8D%E7%AB%AF%E4%B9%A6%E7%B1%8D%E6%8E%A8%E8%8D%90" data-v-43f1e123><!--[-->å‰ç«¯<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/interview-question/HTML%E5%9F%BA%E7%A1%80" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>å‰ç«¯é¢è¯•</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>html</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/HTML%E5%9F%BA%E7%A1%80" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>åŸºç¡€</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/DOCTYPE" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>DOCTYPE</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/meta%E6%A0%87%E7%AD%BE" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>metaæ ‡ç­¾çŸ¥è¯†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/13%E4%B8%AA%E5%BE%88%E9%85%B7%E4%BD%86%E5%BE%88%E5%B0%91%E6%9C%89%E4%BA%BA%E7%9F%A5%E9%81%93%E7%9A%84HTML%E5%85%83%E7%B4%A0" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>13ä¸ªå¾ˆé…·ä½†å¾ˆå°‘æœ‰äººçŸ¥é“çš„HTMLå…ƒç´ </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>CSS</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%89%8D%E7%AB%AFcss%E5%9F%BA%E7%A1%80" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>åŸºç¡€</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>JavaScript</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/JS%E5%BC%82%E6%AD%A5" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¦‚ä½•ç†è§£ js çš„å¼‚æ­¥</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>äº‹ä»¶å¾ªç¯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/JS%E4%B8%AD%E7%9A%84%E8%AE%A1%E6%97%B6%E5%99%A8%E8%83%BD%E5%81%9A%E5%88%B0%E7%B2%BE%E7%A1%AE%E8%AE%A1%E6%97%B6%E5%90%97%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>JS ä¸­çš„è®¡æ—¶å™¨èƒ½åšåˆ°ç²¾ç¡®è®¡æ—¶å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E4%B9%9D%E7%A7%8D%E8%B7%A8%E5%9F%9F%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è·¨åŸŸ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æµ…æ‹·è´ä¸æ·±æ‹·è´</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/JSON%20stringify%E7%89%B9%E6%80%A7" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>JSON-stringify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/URL%E8%BD%AC%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>URL è½¬ç  å’Œè§£ç </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/for-in%20vs%20for-of" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>for-in vs for-of</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E8%B7%A8%E9%A1%B5%E9%9D%A2%E9%80%9A%E4%BF%A1" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è·¨é¡µé¢é€šä¿¡</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%B8%B8%E7%94%A8%E7%9A%84js%E5%87%BD%E6%95%B0" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ‰‹å†™å¸¸ç”¨å‡½æ•°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E6%89%8B%E5%86%99Promise" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ‰‹å†™promise</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>TypeScript</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9%20TypeScript%20%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9F%E4%B8%8E%20JavaScript%20%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è¯´è¯´ä½ å¯¹ TypeScript çš„ç†è§£ï¼Ÿä¸ JavaScript çš„åŒºåˆ«ï¼Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/tsconfig%E9%85%8D%E7%BD%AE" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>tsconfig</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/typescript%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%86%E5%90%88" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>typescripté¢è¯•é¢˜é›†åˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/interface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>interface å’Œ type çš„åŒºåˆ«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/unknown%20%E5%92%8C%20%20any%20%E7%9A%84%E5%8C%BA%E5%88%AB" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>unknown å’Œany çš„åŒºåˆ«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/type%20of%20%E5%92%8C%20key%20of%20%E7%9A%84%E5%8C%BA%E5%88%AB" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>type of å’Œ key of çš„åŒºåˆ«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/void%20%20%E5%92%8C%20never%20%20%E7%B1%BB%E5%9E%8B%E7%9A%84%20%E5%8C%BA%E5%88%AB" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>void  å’Œ never  ç±»å‹çš„ åŒºåˆ«</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åº</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å°ç¨‹åºé¢è¯•é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%94%BB%E7%95%A5" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºçš„æ”»ç•¥</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E7%90%86%E8%A7%A3" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºçš„ç†è§£</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºä¸­è·¯ç”±è·³è½¬çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E6%8F%90%E9%AB%98%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%BA%94%E7%94%A8%E9%80%9F%E5%BA%A6%E7%9A%84%E6%89%8B%E6%AE%B5%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æé«˜å¾®ä¿¡å°ç¨‹åºçš„åº”ç”¨é€Ÿåº¦çš„æ‰‹æ®µæœ‰å“ªäº›</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºçš„ç™»å½•æµç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºçš„å‘å¸ƒæµç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%94%AF%E4%BB%98%E6%B5%81%E7%A8%8B" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºçš„æ”¯ä»˜æµç¨‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºçš„å®ç°åŸç†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E5%8C%85%E6%9E%81%E8%87%B4%E5%8E%8B%E7%BC%A9%E4%B9%8B%E8%B7%AF" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºä¼˜åŒ–</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>æ€§èƒ½ä¼˜åŒ–</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7Performance" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>performance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E6%9C%80%E5%85%A8%E7%9A%84%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D%E6%80%BB%E7%BB%93" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æœ€å…¨çš„å‰ç«¯æ€§èƒ½å®šä½æ€»ç»“ </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/HTML%E4%BC%98%E5%8C%96" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>HTMLä¼˜åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å›¾ç‰‡æ‡’åŠ è½½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%87%8F%E5%B0%91%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%86%85%E5%AD%98%E8%AE%BF%E9%97%AE" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‡å°‘å¼•ç”¨ç±»å‹å†…å­˜è®¿é—®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E5%8D%A1%E9%A1%BF" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ä½•å‡å°‘å¡é¡¿çš„ä»£ç </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E6%87%92%E5%8A%A0%E8%BD%BD%E5%92%8C%E9%A2%84%E5%8A%A0%E8%BD%BD" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‰ç«¯æ‡’åŠ è½½å’Œé¢„åŠ è½½</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Vue</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/Vue3%E4%B8%AD%E6%93%8D%E4%BD%9Cdom%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Vue3ä¸­æ“ä½œdomçš„å››ç§æ–¹å¼</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>React</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/react%20hooks" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è‡ªå®šä¹‰hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/react%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Reactçš„setStateæ˜¯å¼‚æ­¥çš„è¿˜æ˜¯åŒæ­¥çš„</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Webpack</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/webpack%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>webpack</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/webpack%E4%B8%AD%E7%9A%84%E4%B8%89%E7%A7%8Dhash%E5%88%86%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>hashçš„3ç§æ–¹å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/webpack%20%E7%BC%96%E8%AF%91%E6%97%B6%E6%A0%B7%E5%BC%8F%E7%BE%8E%E5%8C%96" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>webpack ç¼–è¯‘æ—¶æ ·å¼ç¾åŒ–</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Node</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84nodejs" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‰ç«¯éœ€è¦äº†è§£çš„nodejsçŸ¥è¯†</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/require%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>requireåŠ è½½å™¨å®ç°åŸç† </p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>npm</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/npm%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¸¸ç”¨æ“ä½œ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/npm%20link%E5%88%9B%E5%BB%BA%E8%BD%AF%E9%93%BE" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>link åˆ›å»ºè½¯é“¾</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>è®¾è®¡æ¨¡å¼ </h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‘å¸ƒè®¢é˜…æ¨¡å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è§‚å¯Ÿè€…æ¨¡å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ä»£ç†æ¨¡å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è£…é¥°å™¨æ¨¡å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>é€‚é…å™¨æ¨¡å¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ç­–ç•¥æ¨¡å¼</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>git</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‚¨è— stash</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¸¸ç”¨å‘½ä»¤</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/git%E5%B7%A5%E4%BD%9C%E5%8C%BA&amp;%E6%9A%82%E5%AD%98%E5%8C%BA%E7%9A%84%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å·¥ä½œåŒº&æš‚å­˜åŒºçš„æ“ä½œå‘½ä»¤</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%82%A8%E8%97%8Fstash" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æœ¬åœ°ä»“åº“ä¸Šçš„æ“ä½œ&gitignore</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Nginx </h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/nginx%E4%BB%A3%E7%90%86" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Nginx</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>åŸºç¡€çŸ¥è¯†</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Docker</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/docker%E6%A6%82%E5%BF%B5" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Dockeræ¦‚å¿µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/docker%E8%B5%B7%E6%AD%A5" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Dockerä»‹ç»</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>åœºæ™¯é¢˜</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91%E8%AF%B7%E6%B1%82%E6%95%B0%E9%87%8F%E6%8E%A7%E5%88%B6" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¹¶å‘è¯·æ±‚æ•°é‡æ§åˆ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%20JS%20%E6%8F%92%E4%BB%B6%E7%B3%BB%E7%BB%9F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ã€è¯‘ã€‘è®¾è®¡ä¸€ä¸ª JS æ’ä»¶ç³»ç»Ÿ </p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%BA%9B%E4%BC%98%E6%83%A0%E5%88%B8" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€äº›ä¼˜æƒ åˆ¸/å¡åˆ¸</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E6%84%9F%E5%88%B7%E6%96%B0token" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ— æ„Ÿåˆ·æ–°token</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ–‡æœ¬ç¯ç»•çƒä½“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%89%8D%E7%AB%AF%E6%B0%B4%E5%8D%B0%E5%8A%9F%E8%83%BD" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‰ç«¯æ°´å°åŠŸèƒ½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>EventLoop</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E8%AF%B7%E6%B1%82%E5%90%88%E5%B9%B6" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è¯·æ±‚åˆå¹¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E6%8B%96%E6%8B%BD" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ‹–æ‹½çš„å®ç°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E7%BA%A2%E7%BB%BF%E7%81%AF%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%AE%9E%E7%8E%B0" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>çº¢ç»¿ç¯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/requestAnimationFrame%20%E5%92%8C%20requestIdleCallback" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>requestAnimationFrame å’Œ requestIdleCallback</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>å‰ç«¯é¢è¯•é¢˜çº²é›†åˆ</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/30%E9%81%93Vue%20%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>30é“Vueé¢è¯•é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%AD%97%E8%8A%82%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å­—èŠ‚å‰ç«¯é¢è¯•é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/37%E4%B8%AA%E5%B8%B8%E8%A7%81Vue%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>37ä¸ªå¸¸è§Vueé¢è¯•é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/2023%E9%AB%98%E9%A2%91%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B9%8BHTML%E7%AF%87" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜(HTML)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/2023%E9%AB%98%E9%A2%91%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B9%8BCSS%E7%AF%87" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜(CSS)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E9%AB%98%E9%A2%91%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%90%88%E9%9B%86%E4%B9%8BJavaScript%E7%AF%87" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜(JavaSript)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E9%AB%98%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95(%E4%B8%8A)" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>é«˜çº§å‰ç«¯é¢è¯•é¢˜(ä¸Š)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E9%AB%98%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95(%E4%B8%8B)" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>é«˜çº§å‰ç«¯é¢è¯•é¢˜(ä¸­)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E9%AB%98%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95(%E4%B8%AD)" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>é«˜çº§å‰ç«¯é¢è¯•é¢˜(ä¸‹)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%89%8D%E7%AB%AF%E7%AE%97%E6%B3%95%E9%A2%98" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å¸¸è§çš„å‰ç«¯ç®—æ³•é¢˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/interview-question/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%87%E5%AD%97%E6%80%BB%E7%BB%93%EF%BC%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BD%91%E7%BB%9C%E7%AF%87%EF%BC%89" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å‰ç«¯é¢è¯•ï¼ˆæµè§ˆå™¨ï¼‰</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>æœ¬æ–‡ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _interview-question_react%20hooks" data-v-6b87e69f><div><h1 id="hooks" tabindex="-1">hooks <a class="header-anchor" href="#hooks" aria-label="Permalink to &quot;hooks&quot;">â€‹</a></h1><!----><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ddea1c732cfb425da5bedbb2dc1295fe~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="æ·±å…¥ Hooks.png"></p><h2 id="è‡ªå®šä¹‰hooksæ˜¯ä»€ä¹ˆ" tabindex="-1">è‡ªå®šä¹‰Hooksæ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#è‡ªå®šä¹‰hooksæ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;è‡ªå®šä¹‰Hooksæ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p><code>react-hooks</code>æ˜¯<code>React16.8</code>ä»¥åæ–°å¢çš„é’©å­APIï¼Œç›®çš„æ˜¯å¢åŠ ä»£ç çš„å¯å¤ç”¨æ€§ã€é€»è¾‘æ€§ï¼Œæœ€ä¸»è¦çš„æ˜¯è§£å†³äº†<strong>å‡½æ•°å¼ç»„ä»¶æ— çŠ¶æ€çš„é—®é¢˜</strong>ï¼Œè¿™æ ·æ—¢ä¿ç•™äº†å‡½æ•°å¼çš„ç®€å•ï¼Œåˆè§£å†³äº†æ²¡æœ‰æ•°æ®ç®¡ç†çŠ¶æ€çš„ç¼ºé™·</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯è‡ªå®šä¹‰hookså‘¢ï¼Ÿ</p><p><code>è‡ªå®šä¹‰hooks</code>æ˜¯åœ¨<code>react-hooks</code>åŸºç¡€ä¸Šçš„ä¸€ä¸ªæ‰©å±•ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡ã€éœ€æ±‚å»åˆ¶å®šç›¸åº”çš„<code>hooks</code>,å°†å¸¸ç”¨çš„é€»è¾‘è¿›è¡Œå°è£…ï¼Œä»è€Œå…·å¤‡å¤ç”¨æ€§</p><h2 id="å¦‚ä½•è®¾è®¡ä¸€ä¸ªè‡ªå®šä¹‰hooks" tabindex="-1">å¦‚ä½•è®¾è®¡ä¸€ä¸ªè‡ªå®šä¹‰Hooks <a class="header-anchor" href="#å¦‚ä½•è®¾è®¡ä¸€ä¸ªè‡ªå®šä¹‰hooks" aria-label="Permalink to &quot;å¦‚ä½•è®¾è®¡ä¸€ä¸ªè‡ªå®šä¹‰Hooks&quot;">â€‹</a></h2><p><code>hooks</code>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œè€Œè¿™ä¸ªå‡½æ•°ä¸»è¦å°±æ˜¯<strong>é€»è¾‘å¤ç”¨</strong>ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ä¸€ä»¶äº‹ï¼Œ<code>hooks</code>çš„é©±åŠ¨æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å…¶å®å°±æ˜¯<code>props</code>çš„ä¿®æ”¹ï¼Œ<code>useState</code>ã€<code>useReducer</code>çš„ä½¿ç”¨æ˜¯æ— çŠ¶æ€ç»„ä»¶æ›´æ–°çš„æ¡ä»¶ï¼Œä»è€Œé©±åŠ¨è‡ªå®šä¹‰hooks</p><h2 id="é€šç”¨æ¨¡å¼" tabindex="-1">é€šç”¨æ¨¡å¼ <a class="header-anchor" href="#é€šç”¨æ¨¡å¼" aria-label="Permalink to &quot;é€šç”¨æ¨¡å¼&quot;">â€‹</a></h2><p>è‡ªå®šä¹‰hooksçš„åç§°æ˜¯ä»¥<strong>use</strong>å¼€å¤´ï¼Œæˆ‘ä»¬è®¾è®¡ä¸ºï¼š</p><blockquote><p>const [ xxx, ...] = useXXX(å‚æ•°ä¸€ï¼Œå‚æ•°äºŒ...)</p></blockquote><h2 id="ç®€å•çš„å°ä¾‹å­-usepow" tabindex="-1">ç®€å•çš„å°ä¾‹å­ï¼šusePow <a class="header-anchor" href="#ç®€å•çš„å°ä¾‹å­-usepow" aria-label="Permalink to &quot;ç®€å•çš„å°ä¾‹å­ï¼šusePow&quot;">â€‹</a></h2><p>æˆ‘ä»¬å…ˆå†™ä¸€ä¸ªç®€å•çš„å°ä¾‹å­æ¥äº†è§£ä¸‹<code>è‡ªå®šä¹‰hooks</code></p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// usePow.ts</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">list</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">[]) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> list.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">pow</span><span style="color:#E1E4E8;">(item, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// index.tsx</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Button } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;antd-mobile&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React,{ useState } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { usePow } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@/components&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">FC</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">props</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">flag</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setFlag</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">usePow</span><span style="color:#E1E4E8;">([</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">])</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;æ•°å­—ï¼š{</span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(data)}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">color</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;primary&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span><span style="color:#B392F0;">setFlag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">v</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">v)}}&gt;åˆ‡æ¢&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;åˆ‡æ¢çŠ¶æ€ï¼š{</span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(flag)}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// usePow.ts</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">list</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">[]) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> list.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">pow</span><span style="color:#24292E;">(item, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// index.tsx</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Button } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;antd-mobile&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React,{ useState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { usePow } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@/components&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">FC</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">props</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">flag</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setFlag</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">usePow</span><span style="color:#24292E;">([</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">])</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;æ•°å­—ï¼š{</span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(data)}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">color</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;primary&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span><span style="color:#6F42C1;">setFlag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">v</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">v)}}&gt;åˆ‡æ¢&lt;/</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;åˆ‡æ¢çŠ¶æ€ï¼š{</span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(flag)}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>æˆ‘ä»¬ç®€å•çš„å†™äº†ä¸ª <code>usePow</code>ï¼Œæˆ‘ä»¬é€šè¿‡ <code>usePow</code> ç»™æ‰€ä¼ å…¥çš„æ•°å­—å¹³æ–¹, ç”¨åˆ‡æ¢çŠ¶æ€çš„æŒ‰é’®è¡¨ç¤ºå‡½æ•°å†…éƒ¨çš„çŠ¶æ€ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ­¤æ—¶çš„æ•ˆæœï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d21cc3b15e24a8fba7a7cf3f2a89d14~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img2.gif"></p><p>æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆç‚¹å‡»åˆ‡æ¢æŒ‰é’®ä¹Ÿä¼šè§¦å‘<code>console.log(1)</code>å‘¢ï¼Ÿ</p><p>è¿™æ ·æ˜æ˜¾å¢åŠ äº†æ€§èƒ½å¼€é”€ï¼Œæˆ‘ä»¬çš„ç†æƒ³çŠ¶æ€è‚¯å®šä¸å¸Œæœ›åšæ— å…³çš„æ¸²æŸ“ï¼Œæ‰€ä»¥æˆ‘ä»¬åšè‡ªå®šä¹‰ <code>hooks</code>çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ï¼Œéœ€è¦<strong>å‡å°‘æ€§èƒ½å¼€é”€</strong>,æˆ‘ä»¬ä¸ºç»„ä»¶åŠ å…¥ <code>useMemo</code>è¯•è¯•ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useMemo } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">list</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">[]) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useMemo</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> list.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">pow</span><span style="color:#E1E4E8;">(item, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }), []) </span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useMemo } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">list</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">[]) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useMemo</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> list.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">pow</span><span style="color:#24292E;">(item, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      }), []) </span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d3e583fe589a4dacbb0a5a72b2e99cef~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img3.gif"></p><p>å‘ç°æ­¤æ—¶å°±å·²ç»è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥è¦éå¸¸æ³¨æ„ä¸€ç‚¹ï¼Œä¸€ä¸ªå¥½ç”¨çš„è‡ªå®šä¹‰<code>hooks</code>,ä¸€å®šè¦é…åˆ<code>useMemo</code>ã€<code>useCallback</code>ç­‰ Api ä¸€èµ·ä½¿ç”¨ã€‚</p><h2 id="ç©è½¬react-hooks" tabindex="-1">ç©è½¬React Hooks <a class="header-anchor" href="#ç©è½¬react-hooks" aria-label="Permalink to &quot;ç©è½¬React Hooks&quot;">â€‹</a></h2><p>åœ¨ä¸Šè¿°ä¸­æˆ‘ä»¬è®²äº†ç”¨ <code>useMemo</code>æ¥å¤„ç†æ— å…³çš„æ¸²æŸ“ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹<code>React Hooks</code>çš„è¿™äº›é’©å­çš„å¦™ç”¨ï¼ˆè¿™é‡Œå»ºè®®å…ˆç†ŸçŸ¥ã€å¹¶ä½¿ç”¨å¯¹åº”çš„<code>React Hooks</code>,æ‰èƒ½é€ å‡ºå¥½çš„é’©å­ï¼‰</p><h2 id="usememo" tabindex="-1">useMemo <a class="header-anchor" href="#usememo" aria-label="Permalink to &quot;useMemo&quot;">â€‹</a></h2><p>å½“ä¸€ä¸ªçˆ¶ç»„ä»¶ä¸­è°ƒç”¨äº†ä¸€ä¸ªå­ç»„ä»¶çš„æ—¶å€™ï¼Œçˆ¶ç»„ä»¶çš„ state å‘ç”Ÿå˜åŒ–ï¼Œä¼šå¯¼è‡´çˆ¶ç»„ä»¶æ›´æ–°ï¼Œè€Œå­ç»„ä»¶è™½ç„¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œä½†ä¹Ÿä¼šè¿›è¡Œæ›´æ–°ã€‚</p><p>ç®€å•çš„ç†è§£ä¸‹ï¼Œå½“ä¸€ä¸ªé¡µé¢å†…å®¹éå¸¸å¤æ‚ï¼Œæ¨¡å—éå¸¸å¤šçš„æ—¶å€™ï¼Œå‡½æ•°å¼ç»„ä»¶ä¼š<strong>ä»å¤´æ›´æ–°åˆ°å°¾</strong>ï¼Œåªè¦ä¸€å¤„æ”¹å˜ï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½ä¼šè¿›è¡Œåˆ·æ–°ï¼Œè¿™ç§æƒ…å†µæ˜¾ç„¶æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚</p><p>æˆ‘ä»¬ç†æƒ³çš„çŠ¶æ€æ˜¯å„ä¸ªæ¨¡å—åªè¿›è¡Œè‡ªå·±çš„æ›´æ–°ï¼Œä¸è¦ç›¸äº’å»å½±å“ï¼Œé‚£ä¹ˆæ­¤æ—¶ç”¨<code>useMemo</code>æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>è¿™é‡Œè¦å°¤å…¶æ³¨æ„ä¸€ç‚¹ï¼Œ<strong>åªè¦çˆ¶ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼Œæ— è®ºæœ‰æ²¡æœ‰å¯¹è‡ªç»„ä»¶è¿›è¡Œæ“ä½œï¼Œå­ç»„ä»¶éƒ½ä¼šè¿›è¡Œæ›´æ–°</strong>ï¼Œ<code>useMemo</code>å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿™ç‚¹è€Œå‡ºç°çš„</p><p>åœ¨è®² <code>useMemo</code> ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¯´è¯´<code>memo</code>,<code>memo</code>çš„ä½œç”¨æ˜¯<strong>ç»“åˆäº†pureComponentçº¯ç»„ä»¶å’Œ componentShouldUpdateåŠŸèƒ½</strong>ï¼Œä¼šå¯¹ä¼ å…¥çš„propsè¿›è¡Œä¸€æ¬¡å¯¹æ¯”ï¼Œç„¶åæ ¹æ®ç¬¬äºŒä¸ªå‡½æ•°è¿”å›å€¼æ¥è¿›ä¸€æ­¥åˆ¤æ–­å“ªäº›propséœ€è¦æ›´æ–°ã€‚ï¼ˆå…·ä½“ä½¿ç”¨ä¼šåœ¨ä¸‹æ–‡è®²åˆ°ï½ï¼‰</p><p><code>useMemo</code>ä¸<code>memo</code>çš„ç†å¿µä¸Šå·®ä¸å¤šï¼Œéƒ½æ˜¯åˆ¤æ–­æ˜¯å¦æ»¡è¶³å½“å‰çš„é™å®šæ¡ä»¶æ¥å†³å®šæ˜¯å¦æ‰§è¡Œ<code>callback</code>å‡½æ•°ï¼Œè€Œ<code>useMemo</code>çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé€šè¿‡è¿™ä¸ªæ•°ç»„æ¥åˆ¤å®šæ˜¯å¦æ›´æ–°å›æ‰å‡½æ•°</p><p>è¿™ç§æ–¹å¼å¯ä»¥è¿ç”¨åœ¨<strong>å…ƒç´ ã€ç»„ä»¶ã€ä¸Šä¸‹æ–‡ä¸­</strong>ï¼Œå°¤å…¶æ˜¯åˆ©ç”¨åœ¨æ•°ç»„ä¸Šï¼Œå…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">useMemo</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                list.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">                    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">key</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{index}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                        {item.name}</span></span>
<span class="line"><span style="color:#E1E4E8;">                    &lt;/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                )}</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">div</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    ),[list])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">useMemo</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                list.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">, </span><span style="color:#E36209;">index</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">                    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">key</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{index}&gt;</span></span>
<span class="line"><span style="color:#24292E;">                        {item.name}</span></span>
<span class="line"><span style="color:#24292E;">                    &lt;/&gt;</span></span>
<span class="line"><span style="color:#24292E;">                )}</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    ),[list])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ä»ä¸Šé¢æˆ‘ä»¬çœ‹å‡º <code>useMemo</code>åªæœ‰åœ¨<code>list</code>å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œä»è€Œå‡å°‘äº†ä¸å¿…è¦çš„å¼€é”€</p><p>æ€»ç»“ä¸€ä¸‹<code>useMemo</code>çš„å¥½å¤„ï¼š</p><ul><li>å¯ä»¥å‡å°‘ä¸å¿…è¦çš„å¾ªç¯å’Œä¸å¿…è¦çš„æ¸²æŸ“</li><li>å¯ä»¥å‡å°‘å­ç»„ä»¶çš„æ¸²æŸ“æ¬¡æ•°</li><li>é€šè¿‡ç‰¹åœ°çš„ä¾èµ–è¿›è¡Œæ›´æ–°ï¼Œå¯ä»¥é¿å…å¾ˆå¤šä¸å¿…è¦çš„å¼€é”€ï¼Œä½†è¦æ³¨æ„ï¼Œæœ‰æ—¶å€™åœ¨é…åˆ <code>useState</code>æ‹¿ä¸åˆ°æœ€æ–°çš„å€¼ï¼Œè¿™ç§æƒ…å†µå¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>useRef</code>è§£å†³</li></ul><h2 id="usecallback" tabindex="-1">useCallback <a class="header-anchor" href="#usecallback" aria-label="Permalink to &quot;useCallback&quot;">â€‹</a></h2><p><code>useCallback</code>ä¸<code>useMemo</code>æå…¶ç±»ä¼¼,å¯ä»¥è¯´æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯<code>useMemo</code>è¿”å›çš„æ˜¯å‡½æ•°è¿è¡Œçš„<strong>ç»“æœ</strong>ï¼Œè€Œ<code>useCallback</code>è¿”å›çš„æ˜¯<strong>å‡½æ•°</strong></p><p>æ³¨æ„ï¼šè¿™ä¸ªå‡½æ•°æ˜¯çˆ¶ç»„ä»¶ä¼ é€’å­ç»„ä»¶çš„ä¸€ä¸ªå‡½æ•°ï¼Œé˜²æ­¢åšæ— å…³çš„åˆ·æ–°ï¼Œå…¶æ¬¡ï¼Œè¿™ä¸ªç»„ä»¶å¿…é¡»é…åˆ<code>memo</code>,å¦åˆ™<strong>ä¸ä½†ä¸ä¼šæå‡æ€§èƒ½ï¼Œè¿˜æœ‰å¯èƒ½é™ä½æ€§èƒ½</strong></p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { useState, useCallback } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Button } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;antd-mobile&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MockMemo</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">FC</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">count</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">setCount</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">show</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">setShow</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCallback</span><span style="color:#E1E4E8;">(()</span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">setCount</span><span style="color:#E1E4E8;">(count </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        },[count])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{display: </span><span style="color:#9ECBFF;">&#39;flex&#39;</span><span style="color:#E1E4E8;">, justifyContent: </span><span style="color:#9ECBFF;">&#39;flex-start&#39;</span><span style="color:#E1E4E8;">}}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#79B8FF;">TestButton</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">title</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;æ™®é€šç‚¹å‡»&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setCount</span><span style="color:#E1E4E8;">(count </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) }/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#79B8FF;">TestButton</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">title</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;useCallbackç‚¹å‡»&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{add}/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{marginTop: </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">}}&gt;count: {count}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span><span style="color:#B392F0;">setShow</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">show)}}&gt; åˆ‡æ¢&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">TestButton</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> React.</span><span style="color:#B392F0;">memo</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(props.title)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">color</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;primary&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{props.onClick} </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{props.title </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;useCallbackç‚¹å‡»&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        marginLeft: </span><span style="color:#79B8FF;">20</span></span>
<span class="line"><span style="color:#E1E4E8;">        } </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">}&gt;{props.title}&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> MockMemo;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { useState, useCallback } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Button } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;antd-mobile&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MockMemo</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">FC</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">count</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">setCount</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">show</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">setShow</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">const</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">add</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCallback</span><span style="color:#24292E;">(()</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">setCount</span><span style="color:#24292E;">(count </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        },[count])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{display: </span><span style="color:#032F62;">&#39;flex&#39;</span><span style="color:#24292E;">, justifyContent: </span><span style="color:#032F62;">&#39;flex-start&#39;</span><span style="color:#24292E;">}}&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#005CC5;">TestButton</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">title</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;æ™®é€šç‚¹å‡»&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setCount</span><span style="color:#24292E;">(count </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) }/&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#005CC5;">TestButton</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">title</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;useCallbackç‚¹å‡»&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{add}/&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{marginTop: </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">}}&gt;count: {count}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span><span style="color:#6F42C1;">setShow</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">show)}}&gt; åˆ‡æ¢&lt;/</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        )</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">TestButton</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> React.</span><span style="color:#6F42C1;">memo</span><span style="color:#24292E;">((</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(props.title)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">color</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;primary&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{props.onClick} </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{props.title </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;useCallbackç‚¹å‡»&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        marginLeft: </span><span style="color:#005CC5;">20</span></span>
<span class="line"><span style="color:#24292E;">        } </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">}&gt;{props.title}&lt;/</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> MockMemo;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c00efe7071b40c583a3d167d073a979~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img2.gif"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“ç‚¹å‡»åˆ‡æ¢æŒ‰é’®çš„æ—¶å€™ï¼Œæ²¡æœ‰ç»è¿‡ <code>useCallback</code>å°è£…çš„å‡½æ•°ä¼šå†æ¬¡åˆ·æ–°ï¼Œè€Œç»è¿‡ <code>useCallback</code>åŒ…è£¹çš„å‡½æ•°ä¸ä¼šè¢«å†æ¬¡åˆ·æ–°</p><h2 id="useref" tabindex="-1">useRef <a class="header-anchor" href="#useref" aria-label="Permalink to &quot;useRef&quot;">â€‹</a></h2><p><strong>useRef</strong> å¯ä»¥è·å–å½“å‰å…ƒç´ çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå¯å˜çš„refå¯¹è±¡ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡<strong>åªæœ‰currentå±æ€§</strong>ï¼Œå¯è®¾ç½®initialValue</p><h3 id="é€šè¿‡userefè·å–å¯¹åº”çš„å±æ€§å€¼" tabindex="-1">é€šè¿‡useRefè·å–å¯¹åº”çš„å±æ€§å€¼ <a class="header-anchor" href="#é€šè¿‡userefè·å–å¯¹åº”çš„å±æ€§å€¼" aria-label="Permalink to &quot;é€šè¿‡useRefè·å–å¯¹åº”çš„å±æ€§å€¼&quot;">â€‹</a></h3><p>æˆ‘ä»¬å…ˆçœ‹ä¸ªæ¡ˆä¾‹ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { useState, useRef } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">FC</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">scrollRef</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">clientHeight</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setClientHeight</span><span style="color:#E1E4E8;"> ] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">scrollTop</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setScrollTop</span><span style="color:#E1E4E8;"> ] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">scrollHeight</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setScrollHeight</span><span style="color:#E1E4E8;"> ] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onScroll</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(scrollRef?.current){</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> clientHeight </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> scrollRef?.current.clientHeight; </span><span style="color:#6A737D;">//å¯è§†åŒºåŸŸé«˜åº¦</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> scrollTop  </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> scrollRef?.current.scrollTop;  </span><span style="color:#6A737D;">//æ»šåŠ¨æ¡æ»šåŠ¨é«˜åº¦</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> scrollHeight </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> scrollRef?.current.scrollHeight; </span><span style="color:#6A737D;">//æ»šåŠ¨å†…å®¹é«˜åº¦</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">setClientHeight</span><span style="color:#E1E4E8;">(clientHeight)</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">setScrollTop</span><span style="color:#E1E4E8;">(scrollTop)</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">setScrollHeight</span><span style="color:#E1E4E8;">(scrollHeight)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;å¯è§†åŒºåŸŸé«˜åº¦ï¼š{clientHeight}&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;æ»šåŠ¨æ¡æ»šåŠ¨é«˜åº¦ï¼š{scrollTop}&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;æ»šåŠ¨å†…å®¹é«˜åº¦ï¼š{scrollHeight}&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{height: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">, overflowY: </span><span style="color:#9ECBFF;">&#39;auto&#39;</span><span style="color:#E1E4E8;">}} </span><span style="color:#B392F0;">ref</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{scrollRef} </span><span style="color:#B392F0;">onScroll</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{onScroll} &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{height: </span><span style="color:#79B8FF;">2000</span><span style="color:#E1E4E8;">}}&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { useState, useRef } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">FC</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">scrollRef</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">clientHeight</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setClientHeight</span><span style="color:#24292E;"> ] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">scrollTop</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setScrollTop</span><span style="color:#24292E;"> ] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">scrollHeight</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setScrollHeight</span><span style="color:#24292E;"> ] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onScroll</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(scrollRef?.current){</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> clientHeight </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> scrollRef?.current.clientHeight; </span><span style="color:#6A737D;">//å¯è§†åŒºåŸŸé«˜åº¦</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> scrollTop  </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> scrollRef?.current.scrollTop;  </span><span style="color:#6A737D;">//æ»šåŠ¨æ¡æ»šåŠ¨é«˜åº¦</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> scrollHeight </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> scrollRef?.current.scrollHeight; </span><span style="color:#6A737D;">//æ»šåŠ¨å†…å®¹é«˜åº¦</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">setClientHeight</span><span style="color:#24292E;">(clientHeight)</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">setScrollTop</span><span style="color:#24292E;">(scrollTop)</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">setScrollHeight</span><span style="color:#24292E;">(scrollHeight)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> &gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> &gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;å¯è§†åŒºåŸŸé«˜åº¦ï¼š{clientHeight}&lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;æ»šåŠ¨æ¡æ»šåŠ¨é«˜åº¦ï¼š{scrollTop}&lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;æ»šåŠ¨å†…å®¹é«˜åº¦ï¼š{scrollHeight}&lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{height: </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">, overflowY: </span><span style="color:#032F62;">&#39;auto&#39;</span><span style="color:#24292E;">}} </span><span style="color:#6F42C1;">ref</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{scrollRef} </span><span style="color:#6F42C1;">onScroll</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{onScroll} &gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{height: </span><span style="color:#005CC5;">2000</span><span style="color:#24292E;">}}&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>ä»ä¸Šè¿°å¯çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>useRef</code>æ¥è·å–å¯¹åº”å…ƒç´ çš„ç›¸å…³å±æ€§ï¼Œä»¥æ­¤æ¥åšä¸€äº›æ“ä½œ</p><p>æ•ˆæœï¼š <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce0221becc3940ec8610783afa66f5dc~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img1.gif"></p><h3 id="ç¼“å­˜æ•°æ®" tabindex="-1">ç¼“å­˜æ•°æ® <a class="header-anchor" href="#ç¼“å­˜æ•°æ®" aria-label="Permalink to &quot;ç¼“å­˜æ•°æ®&quot;">â€‹</a></h3><p>é™¤äº†è·å–å¯¹åº”çš„å±æ€§å€¼å¤–ï¼Œ<code>useRef</code>è¿˜æœ‰ä¸€ç‚¹æ¯”è¾ƒé‡è¦çš„ç‰¹æ€§ï¼Œé‚£å°±æ˜¯ <strong>ç¼“å­˜æ•°æ®</strong></p><p>ä¸Šè¿°è®²åˆ°æˆ‘ä»¬å°è£…ä¸€ä¸ªåˆæ ¼çš„<code>è‡ªå®šä¹‰hooks</code>çš„æ—¶å€™éœ€è¦ç»“åˆ<strong>useMemo</strong>ã€<strong>useCallback</strong>ç­‰Apiï¼Œä½†æˆ‘ä»¬æ§åˆ¶å˜é‡çš„å€¼ç”¨<strong>useState</strong> æœ‰å¯èƒ½ä¼šå¯¼è‡´æ‹¿åˆ°çš„æ˜¯æ—§å€¼ï¼Œå¹¶ä¸”å¦‚æœä»–ä»¬æ›´æ–°ä¼šå¸¦æ¥æ•´ä¸ªç»„ä»¶é‡æ–°æ‰§è¡Œï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>useRef</strong>å°†ä¼šæ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„é€‰æ‹©</p><p>åœ¨<code>react-redux</code>çš„æºç ä¸­ï¼Œåœ¨hooksæ¨å‡ºåï¼Œ<code>react-redux</code>ç”¨å¤§é‡çš„<strong>useMemo</strong>é‡åšäº†<strong>Provide</strong>ç­‰æ ¸å¿ƒæ¨¡å—ï¼Œå…¶ä¸­å°±æ˜¯è¿ç”¨<strong>useRef</strong>æ¥ç¼“å­˜æ•°æ®ï¼Œå¹¶ä¸”æ‰€è¿ç”¨çš„ <strong>useRef()</strong> æ²¡æœ‰ä¸€ä¸ªæ˜¯ç»‘å®šåœ¨domå…ƒç´ ä¸Šçš„ï¼Œéƒ½æ˜¯åšæ•°æ®ç¼“å­˜ç”¨çš„</p><p>å¯ä»¥ç®€å•çš„æ¥çœ‹ä¸€ä¸‹ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç¼“å­˜æ•°æ®</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">/* react-redux ç”¨userRef æ¥ç¼“å­˜ mergeä¹‹åçš„ props */</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">lastChildProps</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">() </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// lastWrapperProps ç”¨ useRef æ¥å­˜æ”¾ç»„ä»¶çœŸæ­£çš„ propsä¿¡æ¯ </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">lastWrapperProps</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">(wrapperProps) </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//æ˜¯å¦å‚¨å­˜propsæ˜¯å¦å¤„äºæ­£åœ¨æ›´æ–°çŠ¶æ€ </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">renderIsScheduled</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//æ›´æ–°æ•°æ®</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">captureWrapperProps</span><span style="color:#E1E4E8;">( </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">lastWrapperProps</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">lastChildProps</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">renderIsScheduled</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">wrapperProps</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">actualChildProps</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">childPropsFromStoreUpdate</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#FFAB70;">notifyNestedSubs</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">    ) { </span></span>
<span class="line"><span style="color:#E1E4E8;">        lastWrapperProps.current </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> wrapperProps </span></span>
<span class="line"><span style="color:#E1E4E8;">        lastChildProps.current </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> actualChildProps </span></span>
<span class="line"><span style="color:#E1E4E8;">        renderIsScheduled.current </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ç¼“å­˜æ•°æ®</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/* react-redux ç”¨userRef æ¥ç¼“å­˜ mergeä¹‹åçš„ props */</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">lastChildProps</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">() </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// lastWrapperProps ç”¨ useRef æ¥å­˜æ”¾ç»„ä»¶çœŸæ­£çš„ propsä¿¡æ¯ </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">lastWrapperProps</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">(wrapperProps) </span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//æ˜¯å¦å‚¨å­˜propsæ˜¯å¦å¤„äºæ­£åœ¨æ›´æ–°çŠ¶æ€ </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">renderIsScheduled</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//æ›´æ–°æ•°æ®</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">captureWrapperProps</span><span style="color:#24292E;">( </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">lastWrapperProps</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">lastChildProps</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">renderIsScheduled</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">wrapperProps</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">actualChildProps</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">childPropsFromStoreUpdate</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#E36209;">notifyNestedSubs</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">    ) { </span></span>
<span class="line"><span style="color:#24292E;">        lastWrapperProps.current </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> wrapperProps </span></span>
<span class="line"><span style="color:#24292E;">        lastChildProps.current </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> actualChildProps </span></span>
<span class="line"><span style="color:#24292E;">        renderIsScheduled.current </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">   }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>æˆ‘ä»¬çœ‹åˆ° <code>react-redux</code> ç”¨é‡æ–°èµ‹å€¼çš„æ–¹æ³•ï¼Œæ”¹å˜äº†ç¼“å­˜çš„æ•°æ®æºï¼Œå‡å°‘äº†ä¸å¿…è¦çš„æ›´æ–°ï¼Œå¦‚è¿‡é‡‡å–<code>useState</code>åŠ¿å¿…ä¼šé‡æ–°æ¸²æŸ“</p><h3 id="uselatest" tabindex="-1">useLatest <a class="header-anchor" href="#uselatest" aria-label="Permalink to &quot;useLatest&quot;">â€‹</a></h3><p>ç»è¿‡ä¸Šé¢çš„è®²è§£æˆ‘ä»¬çŸ¥é“<code>useRef</code> å¯ä»¥æ‹¿åˆ°æœ€æ–°å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç®€å•çš„å°è£…ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š<strong>å¯ä»¥éšæ—¶ç¡®ä¿è·å–çš„æ˜¯æœ€æ–°å€¼ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥è§£å†³é—­åŒ…é—®é¢˜</strong></p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRef } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useLatest</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">T</span><span style="color:#E1E4E8;">&gt;(value: T) =&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">     const ref </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">(value)</span></span>
<span class="line"><span style="color:#E1E4E8;">     ref.current </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">     return ref</span></span>
<span class="line"><span style="color:#E1E4E8;">   };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   export default useLatest;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRef } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useLatest</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">T</span><span style="color:#24292E;">&gt;(value: T) =&gt; {</span></span>
<span class="line"><span style="color:#24292E;">     const ref </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">(value)</span></span>
<span class="line"><span style="color:#24292E;">     ref.current </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">     return ref</span></span>
<span class="line"><span style="color:#24292E;">   };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   export default useLatest;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="ç»“åˆusememoå’Œuserefå°è£…usecreation" tabindex="-1">ç»“åˆuseMemoå’ŒuseRefå°è£…useCreation <a class="header-anchor" href="#ç»“åˆusememoå’Œuserefå°è£…usecreation" aria-label="Permalink to &quot;ç»“åˆuseMemoå’ŒuseRefå°è£…useCreation&quot;">â€‹</a></h3><p><strong>useCreation</strong> ï¼šæ˜¯ <code>useMemo</code> æˆ– <code>useRef</code>çš„æ›¿ä»£å“ã€‚æ¢è¨€ä¹‹ï¼Œ<code>useCreation</code>è¿™ä¸ªé’©å­å¢å¼ºäº† <code>useMemo</code> å’Œ <code>useRef</code>ï¼Œè®©è¿™ä¸ªé’©å­å¯ä»¥æ›¿æ¢è¿™ä¸¤ä¸ªé’©å­ã€‚ï¼ˆæ¥è‡ª<a href="https://link.juejin.cn/?target=https%3A%2F%2Fahooks.js.org%2Fzh-CN%2Fhooks%2Fuse-creation" title="https://ahooks.js.org/zh-CN/hooks/use-creation" target="_blank" rel="noreferrer">ahooks-useCreation</a>ï¼‰</p><ul><li><code>useMemo</code>çš„å€¼ä¸ä¸€å®šæ˜¯æœ€æ–°çš„å€¼ï¼Œä½†<code>useCreation</code>å¯ä»¥ä¿è¯æ‹¿åˆ°çš„å€¼ä¸€å®šæ˜¯æœ€æ–°çš„å€¼</li><li>å¯¹äºå¤æ‚å¸¸é‡çš„åˆ›å»ºï¼Œ<code>useRef</code>å®¹æ˜“å‡ºç°æ½œåœ¨çš„çš„æ€§èƒ½éšæ‚£ï¼Œä½†<code>useCreation</code>å¯ä»¥é¿å…</li></ul><p>è¿™é‡Œçš„æ€§èƒ½éšæ‚£æ˜¯æŒ‡ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// æ¯æ¬¡é‡æ¸²æŸ“ï¼Œéƒ½ä¼šæ‰§è¡Œå®ä¾‹åŒ– Subject çš„è¿‡ç¨‹ï¼Œå³ä¾¿è¿™ä¸ªå®ä¾‹ç«‹åˆ»å°±è¢«æ‰”æ‰äº†</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Subject</span><span style="color:#E1E4E8;">()) </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// é€šè¿‡ factory å‡½æ•°ï¼Œå¯ä»¥é¿å…æ€§èƒ½éšæ‚£</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCreation</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Subject</span><span style="color:#E1E4E8;">(), [])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// æ¯æ¬¡é‡æ¸²æŸ“ï¼Œéƒ½ä¼šæ‰§è¡Œå®ä¾‹åŒ– Subject çš„è¿‡ç¨‹ï¼Œå³ä¾¿è¿™ä¸ªå®ä¾‹ç«‹åˆ»å°±è¢«æ‰”æ‰äº†</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">a</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Subject</span><span style="color:#24292E;">()) </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// é€šè¿‡ factory å‡½æ•°ï¼Œå¯ä»¥é¿å…æ€§èƒ½éšæ‚£</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">b</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCreation</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Subject</span><span style="color:#24292E;">(), [])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å°è£…ä¸€ä¸ª<code>useCreation</code>,é¦–å…ˆæˆ‘ä»¬è¦æ˜ç™½ä»¥ä¸‹ä¸‰ç‚¹ï¼š</p><ul><li>ç¬¬ä¸€ç‚¹ï¼šå…ˆç¡®å®šå‚æ•°ï¼Œ<code>useCreation</code> çš„å‚æ•°ä¸<code>useMemo</code>çš„ä¸€è‡´ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å‚æ•°æ˜¯å¯å˜çš„æ•°ç»„</li><li>ç¬¬äºŒç‚¹ï¼šæˆ‘ä»¬çš„å€¼è¦ä¿å­˜åœ¨ <code>useRef</code>ä¸­ï¼Œè¿™æ ·å¯ä»¥å°†å€¼ç¼“å­˜ï¼Œä»è€Œå‡å°‘æ— å…³çš„åˆ·æ–°</li><li>ç¬¬ä¸‰ç‚¹ï¼šæ›´æ–°å€¼çš„åˆ¤æ–­ï¼Œæ€ä¹ˆé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ¥åˆ¤æ–­æ˜¯å¦æ›´æ–° <code>useRef</code>é‡Œçš„å€¼ã€‚</li></ul><p>æ˜ç™½äº†ä¸€ä¸Šä¸‰ç‚¹æˆ‘ä»¬å°±å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ª<code>useCreation</code></p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRef } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> { DependencyList } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">depsAreSame</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">oldDeps</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DependencyList</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">deps</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DependencyList</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(oldDeps </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> deps) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> oldDeps.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦æ˜¯åŒä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">Object.</span><span style="color:#B392F0;">is</span><span style="color:#E1E4E8;">(oldDeps[i], deps[i])) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCreation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">T</span><span style="color:#E1E4E8;">&gt;(fn:() =&gt; T, deps: DependencyList)=&gt; {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  const { current } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">({ </span></span>
<span class="line"><span style="color:#E1E4E8;">    deps,</span></span>
<span class="line"><span style="color:#E1E4E8;">    obj:  </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">T</span><span style="color:#E1E4E8;"> ,</span></span>
<span class="line"><span style="color:#E1E4E8;">    initialized: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">if</span><span style="color:#E1E4E8;">(current.initialized </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#B392F0;">depsAreSame</span><span style="color:#E1E4E8;">(current.deps, deps)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    current.deps </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> deps;</span></span>
<span class="line"><span style="color:#E1E4E8;">    current.obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    current.initialized </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  return current.obj </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">T</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">export default useCreation;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRef } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> { DependencyList } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">depsAreSame</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">oldDeps</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DependencyList</span><span style="color:#24292E;">, </span><span style="color:#E36209;">deps</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DependencyList</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(oldDeps </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> deps) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> oldDeps.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦æ˜¯åŒä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">Object.</span><span style="color:#6F42C1;">is</span><span style="color:#24292E;">(oldDeps[i], deps[i])) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCreation</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">T</span><span style="color:#24292E;">&gt;(fn:() =&gt; T, deps: DependencyList)=&gt; {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  const { current } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">({ </span></span>
<span class="line"><span style="color:#24292E;">    deps,</span></span>
<span class="line"><span style="color:#24292E;">    obj:  </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;"> ,</span></span>
<span class="line"><span style="color:#24292E;">    initialized: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">if</span><span style="color:#24292E;">(current.initialized </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#6F42C1;">depsAreSame</span><span style="color:#24292E;">(current.deps, deps)) {</span></span>
<span class="line"><span style="color:#24292E;">    current.deps </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> deps;</span></span>
<span class="line"><span style="color:#24292E;">    current.obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    current.initialized </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  return current.obj </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span></span>
<span class="line"><span style="color:#24292E;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">export default useCreation;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>åœ¨<code>useRef</code>åˆ¤æ–­æ˜¯å¦æ›´æ–°å€¼é€šè¿‡<code>initialized</code> å’Œ <code>depsAreSame</code>æ¥åˆ¤æ–­ï¼Œå…¶ä¸­<code>depsAreSame</code>é€šè¿‡å­˜å‚¨åœ¨ <code>useRef</code>ä¸‹çš„<code>deps</code>(æ—§å€¼) å’Œ æ–°ä¼ å…¥çš„ <code>deps</code>ï¼ˆæ–°å€¼ï¼‰æ¥åšå¯¹æ¯”ï¼Œåˆ¤æ–­ä¸¤æ•°ç»„çš„æ•°æ®æ˜¯å¦ä¸€è‡´ï¼Œæ¥ç¡®å®šæ˜¯å¦æ›´æ–°</p><h3 id="éªŒè¯-usecreation" tabindex="-1">éªŒè¯ useCreation <a class="header-anchor" href="#éªŒè¯-usecreation" aria-label="Permalink to &quot;éªŒè¯ useCreation&quot;">â€‹</a></h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†™ä¸ªå°ä¾‹å­ï¼Œæ¥éªŒè¯ä¸‹ <code>useCreation</code>æ˜¯å¦èƒ½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { useState } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Button } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;antd-mobile&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useCreation } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@/components&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">FC</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">_</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setFlag</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getNowData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">random</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nowData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCreation</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getNowData</span><span style="color:#E1E4E8;">(), []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{padding: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">}}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;æ­£å¸¸çš„å‡½æ•°ï¼š {</span><span style="color:#B392F0;">getNowData</span><span style="color:#E1E4E8;">()}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;useCreationåŒ…è£¹åçš„ï¼š {nowData}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">color</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;primary&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span><span style="color:#B392F0;">setFlag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">v</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">v)}}&gt; æ¸²æŸ“&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { useState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Button } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;antd-mobile&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useCreation } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@/components&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">FC</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">_</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setFlag</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getNowData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nowData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCreation</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getNowData</span><span style="color:#24292E;">(), []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{padding: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">}}&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;æ­£å¸¸çš„å‡½æ•°ï¼š {</span><span style="color:#6F42C1;">getNowData</span><span style="color:#24292E;">()}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;useCreationåŒ…è£¹åçš„ï¼š {nowData}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">color</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;primary&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span><span style="color:#6F42C1;">setFlag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">v</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">v)}}&gt; æ¸²æŸ“&lt;/</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      )</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aa5645ef84d141878142032ae2079bdc~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="useCreation.gif"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬åšæ— å…³çš„<code>state</code>æ”¹å˜çš„æ—¶å€™ï¼Œæ­£å¸¸çš„å‡½æ•°ä¹Ÿä¼šåˆ·æ–°ï¼Œä½†<code>useCreation</code>æ²¡æœ‰åˆ·æ–°ï¼Œä»è€Œå¢å¼ºäº†æ¸²æŸ“çš„æ€§èƒ½ï½</p><h2 id="useeffect" tabindex="-1">useEffect <a class="header-anchor" href="#useeffect" aria-label="Permalink to &quot;useEffect&quot;">â€‹</a></h2><p><code>useEffect</code>ç›¸ä¿¡å„ä½å°ä¼™ä¼´å·²ç»ç”¨çš„ç†Ÿçš„ä¸èƒ½å†ç†Ÿäº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>useEffect</code>æ¥æ¨¡æ‹Ÿä¸‹<code>class</code>çš„<code>componentDidMount</code>å’Œ<code>componentWillUnmount</code>çš„åŠŸèƒ½ã€‚</p><h3 id="usemount" tabindex="-1">useMount <a class="header-anchor" href="#usemount" aria-label="Permalink to &quot;useMount&quot;">â€‹</a></h3><p>è¿™ä¸ªé’©å­ä¸å¿…å¤šè¯´ï¼Œåªæ˜¯ç®€åŒ–äº†ä½¿ç”¨<code>useEffect</code>çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useEffect } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useMount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">fn</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">useEffect</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">?.();</span></span>
<span class="line"><span style="color:#E1E4E8;">      }, []);</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> useMount;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useEffect } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useMount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">fn</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">useEffect</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">?.();</span></span>
<span class="line"><span style="color:#24292E;">      }, []);</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> useMount;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="useunmount" tabindex="-1">useUnmount <a class="header-anchor" href="#useunmount" aria-label="Permalink to &quot;useUnmount&quot;">â€‹</a></h3><p>è¿™ä¸ªéœ€è¦æ³¨æ„ä¸€ä¸ªç‚¹ï¼Œå°±æ˜¯ä½¿ç”¨<code>useRef</code>æ¥ç¡®ä¿æ‰€ä¼ å…¥çš„å‡½æ•°ä¸ºæœ€æ–°çš„çŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥ç»“åˆä¸Šè¿°è®²çš„<strong>useLatest</strong>ç»“åˆä½¿ç”¨</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useEffect, useRef } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useUnmount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">fn</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ref</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRef</span><span style="color:#E1E4E8;">(fn);</span></span>
<span class="line"><span style="color:#E1E4E8;">      ref.current </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> fn;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">useEffect</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">?.()</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        [],</span></span>
<span class="line"><span style="color:#E1E4E8;">      );</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> useUnmount;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useEffect, useRef } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useUnmount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">fn</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ref</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRef</span><span style="color:#24292E;">(fn);</span></span>
<span class="line"><span style="color:#24292E;">      ref.current </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> fn;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">useEffect</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">        () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">?.()</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        [],</span></span>
<span class="line"><span style="color:#24292E;">      );</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> useUnmount;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="ç»“åˆusemountå’Œuseunmountåšä¸ªå°ä¾‹å­" tabindex="-1">ç»“åˆ<code>useMount</code>å’Œ<code>useUnmount</code>åšä¸ªå°ä¾‹å­ <a class="header-anchor" href="#ç»“åˆusemountå’Œuseunmountåšä¸ªå°ä¾‹å­" aria-label="Permalink to &quot;ç»“åˆ`useMount`å’Œ`useUnmount`åšä¸ªå°ä¾‹å­&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Button, Toast } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;antd-mobile&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React,{ useState } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useMount, useUnmount } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@/components&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Child</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">useMount</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Toast.</span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;é¦–æ¬¡æ¸²æŸ“&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">useUnmount</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        Toast.</span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ç»„ä»¶å·²å¸è½½&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯å°æœæœ&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">FC</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">props</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">flag</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setFlag</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{padding: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">}}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">color</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;primary&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span><span style="color:#B392F0;">setFlag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">v</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">v)}}&gt;åˆ‡æ¢ {flag </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;unmount&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;mount&#39;</span><span style="color:#E1E4E8;">}&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          {flag </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">Child</span><span style="color:#E1E4E8;"> /&gt;}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      );</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Button, Toast } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;antd-mobile&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React,{ useState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useMount, useUnmount } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@/components&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Child</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">useMount</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        Toast.</span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;é¦–æ¬¡æ¸²æŸ“&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">useUnmount</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        Toast.</span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;ç»„ä»¶å·²å¸è½½&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯å°æœæœ&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">FC</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">props</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">flag</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setFlag</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{padding: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">}}&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">color</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;primary&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span><span style="color:#6F42C1;">setFlag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">v</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">v)}}&gt;åˆ‡æ¢ {flag </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;unmount&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;mount&#39;</span><span style="color:#24292E;">}&lt;/</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          {flag </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">Child</span><span style="color:#24292E;"> /&gt;}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      );</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>æ•ˆæœå¦‚ä¸‹ï¼š <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27b1cfa623a944eb9056b62eeafaba5f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img5.gif"></p><h3 id="useupdate" tabindex="-1">useUpdate <a class="header-anchor" href="#useupdate" aria-label="Permalink to &quot;useUpdate&quot;">â€‹</a></h3><p><strong>useUpdate</strong>:å¼ºåˆ¶æ›´æ–°</p><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ç»„ä»¶å¼ºåˆ¶æ›´æ–°ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé’©å­ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useCallback, useState } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useUpdate</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [, </span><span style="color:#79B8FF;">setState</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCallback</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setState</span><span style="color:#E1E4E8;">({}), []);</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> useUpdate;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//ç¤ºä¾‹ï¼š</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Button } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;antd-mobile&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useUpdate } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@/components&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Index</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">FC</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">props</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">update</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useUpdate</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{padding: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">}}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;æ—¶é—´ï¼š{Date.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">()}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">color</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;primary&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{update}&gt;æ›´æ–°æ—¶é—´&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      );</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useCallback, useState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useUpdate</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [, </span><span style="color:#005CC5;">setState</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCallback</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setState</span><span style="color:#24292E;">({}), []);</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> useUpdate;</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//ç¤ºä¾‹ï¼š</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Button } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;antd-mobile&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useUpdate } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@/components&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Index</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">FC</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">props</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">update</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useUpdate</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{padding: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">}}&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;æ—¶é—´ï¼š{Date.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">()}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">color</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;primary&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{update}&gt;æ›´æ–°æ—¶é—´&lt;/</span><span style="color:#005CC5;">Button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      );</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bbe4ebe0e17f439693b48eac899e3f67~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img6.gif"></p><h1 id="æ¡ˆä¾‹" tabindex="-1">æ¡ˆä¾‹ <a class="header-anchor" href="#æ¡ˆä¾‹" aria-label="Permalink to &quot;æ¡ˆä¾‹&quot;">â€‹</a></h1><!----><h2 id="æ¡ˆä¾‹1-usereactive" tabindex="-1">æ¡ˆä¾‹1: useReactive <a class="header-anchor" href="#æ¡ˆä¾‹1-usereactive" aria-label="Permalink to &quot;æ¡ˆä¾‹1: useReactive&quot;">â€‹</a></h2><p><strong>useReactive</strong>: ä¸€ç§å…·å¤‡<strong>å“åº”å¼</strong>çš„<code>useState</code></p><p>ç¼˜ç”±ï¼šæˆ‘ä»¬çŸ¥é“ç”¨<code>useState</code>å¯ä»¥å®šä¹‰å˜é‡å…¶æ ¼å¼ä¸ºï¼š</p><p><code>const [count, setCount] = useState&lt;number&gt;(0)</code></p><p>é€šè¿‡<code>setCount</code>æ¥è®¾ç½®ï¼Œ<code>count</code>æ¥è·å–ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ‰èƒ½å¤Ÿæ¸²æŸ“è§†å›¾</p><p>æ¥çœ‹çœ‹æ­£å¸¸çš„æ“ä½œï¼Œåƒè¿™æ · <code>let count = 0; count =7</code> æ­¤æ—¶<code>count</code>çš„å€¼å°±æ˜¯7ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®æ˜¯å“åº”å¼çš„</p><p>é‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥å°† <code>useState</code>ä¹Ÿå†™æˆ<strong>å“åº”å¼</strong>çš„å‘¢ï¼Ÿæˆ‘å¯ä»¥è‡ªç”±è®¾ç½®<strong>countçš„å€¼,å¹¶ä¸”å¯ä»¥éšæ—¶è·å–åˆ°countçš„æœ€æ–°å€¼</strong>ï¼Œè€Œä¸æ˜¯é€šè¿‡<code>setCount</code>æ¥è®¾ç½®ã€‚</p><p>æˆ‘ä»¬æ¥æƒ³æƒ³æ€ä¹ˆå»å®ç°ä¸€ä¸ªå…·å¤‡ <strong>å“åº”å¼</strong> ç‰¹ç‚¹çš„ <code>useState</code> ä¹Ÿå°±æ˜¯ <code>useRective</code>,æå‡ºä»¥ä¸‹ç–‘é—®ï¼Œæ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥å…ˆè‡ªè¡Œæ€è€ƒä¸€ä¸‹ï¼š</p><ul><li>è¿™ä¸ªé’©å­çš„å‡ºå…¥å‚è¯¥æ€ä¹ˆè®¾å®šï¼Ÿ</li><li>å¦‚ä½•å°†æ•°æ®åˆ¶ä½œæˆå“åº”å¼ï¼ˆæ¯•ç«Ÿæ™®é€šçš„æ“ä½œæ— æ³•åˆ·æ–°è§†å›¾ï¼‰ï¼Ÿ</li><li>å¦‚ä½•ä½¿ç”¨<code>TS</code>å»å†™ï¼Œå®Œå–„å…¶ç±»å‹ï¼Ÿ</li><li>å¦‚ä½•æ›´å¥½çš„å»ä¼˜åŒ–ï¼Ÿ</li></ul><h3 id="åˆ†æ" tabindex="-1">åˆ†æ <a class="header-anchor" href="#åˆ†æ" aria-label="Permalink to &quot;åˆ†æ&quot;">â€‹</a></h3><p>ä»¥ä¸Šå››ä¸ªå°é—®é¢˜ï¼Œæœ€å…³é”®çš„å°±æ˜¯<code>ç¬¬äºŒä¸ª</code>ï¼Œæˆ‘ä»¬å¦‚ä½•å°†æ•°æ®å¼„æˆ<strong>å“åº”å¼</strong>ï¼Œæƒ³è¦å¼„æˆå“åº”å¼ï¼Œå°±å¿…é¡»ç›‘å¬åˆ°å€¼çš„å˜åŒ–ï¼Œåœ¨åšå‡ºæ›´æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªæ•°è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œè¦è¿›è¡Œç›¸åº”çš„<strong>æ‹¦æˆª</strong>ï¼Œè¿™æ—¶å°±éœ€è¦<code>ES6</code>çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼š<strong>Proxy</strong></p><p>åœ¨è¿™é‡Œä¼šç”¨åˆ° <strong>Proxy</strong>å’Œ<strong>Reflect</strong>çš„ç‚¹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7068935394191998990#heading-36" title="https://juejin.cn/post/7068935394191998990#heading-36" target="_blank" rel="noreferrer">ğŸ”¥èŠ±ä¸€ä¸ªå°æ—¶ï¼Œè¿…é€Ÿäº†è§£ES6~ES12çš„å…¨éƒ¨ç‰¹æ€§</a></p><p><strong>Proxy</strong>ï¼šæ¥å—çš„å‚æ•°æ˜¯<strong>å¯¹è±¡</strong>ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªé—®é¢˜ä¹Ÿè§£å†³äº†ï¼Œå…¥å‚å°±ä¸ºå¯¹è±¡ã€‚é‚£ä¹ˆå¦‚ä½•å»åˆ·æ–°è§†å›¾å‘¢ï¼Ÿè¿™é‡Œå°±ä½¿ç”¨ä¸Šè¿°çš„<strong>useUpdate</strong>æ¥å¼ºåˆ¶åˆ·æ–°ï¼Œä½¿æ•°æ®æ›´æ”¹ã€‚</p><p>è‡³äºä¼˜åŒ–è¿™ä¸€å—ï¼Œä½¿ç”¨ä¸Šæ–‡è¯´çš„<code>useCreation</code>å°±å¥½ï¼Œå†é…åˆ<code>useRef</code>æ¥æ”¾<code>initialState</code>å³å¯</p><h3 id="ä»£ç " tabindex="-1">ä»£ç  <a class="header-anchor" href="#ä»£ç " aria-label="Permalink to &quot;ä»£ç &quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">import { useRef } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">import { useUpdate, useCreation } from &#39;../index&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">const observer = &lt;T extends Record&lt;string, any&gt;&gt;(initialVal: T, cb: () =&gt; void): T =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"> const proxy = new Proxy&lt;T&gt;(initialVal, {</span></span>
<span class="line"><span style="color:#e1e4e8;">    get(target, key, receiver) {</span></span>
<span class="line"><span style="color:#e1e4e8;">      const res = Reflect.get(target, key, receiver);</span></span>
<span class="line"><span style="color:#e1e4e8;">      return typeof res === &#39;object&#39; ? observer(res, cb) : Reflect.get(target, key);</span></span>
<span class="line"><span style="color:#e1e4e8;">    },</span></span>
<span class="line"><span style="color:#e1e4e8;">    set(target, key, val) {</span></span>
<span class="line"><span style="color:#e1e4e8;">      const ret = Reflect.set(target, key, val);</span></span>
<span class="line"><span style="color:#e1e4e8;">      cb();</span></span>
<span class="line"><span style="color:#e1e4e8;">      return ret;</span></span>
<span class="line"><span style="color:#e1e4e8;">    },</span></span>
<span class="line"><span style="color:#e1e4e8;">  });</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">  return proxy;</span></span>
<span class="line"><span style="color:#e1e4e8;">}</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">const useReactive = &lt;T extends Record&lt;string, any&gt;&gt;(initialState: T):T =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">  const ref = useRef&lt;T&gt;(initialState);</span></span>
<span class="line"><span style="color:#e1e4e8;">  const update = useUpdate();</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">  const state = useCreation(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">    return observer(ref.current, () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">      update();</span></span>
<span class="line"><span style="color:#e1e4e8;">    });</span></span>
<span class="line"><span style="color:#e1e4e8;">  }, []);</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">  return state</span></span>
<span class="line"><span style="color:#e1e4e8;">};</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">export default useReactive;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">import { useRef } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">import { useUpdate, useCreation } from &#39;../index&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">const observer = &lt;T extends Record&lt;string, any&gt;&gt;(initialVal: T, cb: () =&gt; void): T =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"> const proxy = new Proxy&lt;T&gt;(initialVal, {</span></span>
<span class="line"><span style="color:#24292e;">    get(target, key, receiver) {</span></span>
<span class="line"><span style="color:#24292e;">      const res = Reflect.get(target, key, receiver);</span></span>
<span class="line"><span style="color:#24292e;">      return typeof res === &#39;object&#39; ? observer(res, cb) : Reflect.get(target, key);</span></span>
<span class="line"><span style="color:#24292e;">    },</span></span>
<span class="line"><span style="color:#24292e;">    set(target, key, val) {</span></span>
<span class="line"><span style="color:#24292e;">      const ret = Reflect.set(target, key, val);</span></span>
<span class="line"><span style="color:#24292e;">      cb();</span></span>
<span class="line"><span style="color:#24292e;">      return ret;</span></span>
<span class="line"><span style="color:#24292e;">    },</span></span>
<span class="line"><span style="color:#24292e;">  });</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">  return proxy;</span></span>
<span class="line"><span style="color:#24292e;">}</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">const useReactive = &lt;T extends Record&lt;string, any&gt;&gt;(initialState: T):T =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">  const ref = useRef&lt;T&gt;(initialState);</span></span>
<span class="line"><span style="color:#24292e;">  const update = useUpdate();</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">  const state = useCreation(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">    return observer(ref.current, () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">      update();</span></span>
<span class="line"><span style="color:#24292e;">    });</span></span>
<span class="line"><span style="color:#24292e;">  }, []);</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">  return state</span></span>
<span class="line"><span style="color:#24292e;">};</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">export default useReactive;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>è¿™é‡Œå…ˆè¯´ä¸‹<code>TS</code>ï¼Œå› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“ä¼šä¼ é€’ä»€ä¹ˆç±»å‹çš„<code>initialState</code>æ‰€ä»¥åœ¨è¿™éœ€è¦ä½¿ç”¨<strong>æ³›å‹</strong>ï¼Œæˆ‘ä»¬æ¥å—çš„å‚æ•°æ˜¯<strong>å¯¹è±¡</strong>ï¼Œå¯å°±æ˜¯ key-value çš„å½¢å¼ï¼Œå…¶ä¸­ key ä¸º stringï¼Œvalue å¯ä»¥æ˜¯ ä»»æ„ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ <code>Record&lt;string, any&gt;</code></p><p>æœ‰ä¸ç†Ÿæ‚‰çš„å°ä¼™ä¼´å¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š <a href="https://juejin.cn/post/7088304364078497800#heading-82" title="https://juejin.cn/post/7088304364078497800#heading-82" target="_blank" rel="noreferrer">ä¸€ç¯‡è®©ä½ å®Œå…¨å¤Ÿç”¨TSçš„æŒ‡å—</a>ï¼ˆåˆæ¨é”€ä¸€éï¼Œæœ‰ç‚¹æ‰“å¹¿å‘Šï¼Œåˆ«åœ¨æ„ï½ï¼‰</p><p>å†æ¥è¯´ä¸‹<code>æ‹¦æˆªè¿™å—</code>,æˆ‘ä»¬åªéœ€è¦æ‹¦æˆª<strong>è®¾ç½®ï¼ˆsetï¼‰</strong> å’Œ <strong>è·å–ï¼ˆgetï¼‰</strong> å³å¯ï¼Œå…¶ä¸­ï¼š</p><ul><li>è®¾ç½®è¿™å—ï¼Œéœ€è¦æ”¹å˜æ˜¯å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦ï¼Œä½¿ç”¨<strong>useUpdate</strong>æ¥å¼ºåˆ¶åˆ·æ–°</li><li>è·å–è¿™å—ï¼Œéœ€è¦åˆ¤æ–­å…¶æ˜¯å¦ä¸ºå¯¹è±¡ï¼Œæ˜¯çš„è¯ç»§ç»­é€’å½’ï¼Œä¸æ˜¯çš„è¯è¿”å›å°±è¡Œ</li></ul><h3 id="éªŒè¯" tabindex="-1">éªŒè¯ <a class="header-anchor" href="#éªŒè¯" aria-label="Permalink to &quot;éªŒè¯&quot;">â€‹</a></h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹æˆ‘ä»¬å†™çš„ <code>useReactive</code>,æˆ‘ä»¬å°†ä»¥ å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”ã€æ•°ç»„ã€å‡½æ•°ã€è®¡ç®—å±æ€§å‡ ä¸ªæ–¹é¢å»éªŒè¯ä¸€ä¸‹ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { Button } from &#39;antd-mobile&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import React from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import { useReactive } from &#39;@/components&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const Index:React.FC&lt;any&gt; = (props)=&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const state = useReactive&lt;any&gt;({</span></span>
<span class="line"><span style="color:#e1e4e8;">        count: 0,</span></span>
<span class="line"><span style="color:#e1e4e8;">        name: &#39;å°æœæœ&#39;,</span></span>
<span class="line"><span style="color:#e1e4e8;">        flag: true,</span></span>
<span class="line"><span style="color:#e1e4e8;">        arr: [],</span></span>
<span class="line"><span style="color:#e1e4e8;">        bugs: [&#39;å°æœæœ&#39;, &#39;react&#39;, &#39;hook&#39;],</span></span>
<span class="line"><span style="color:#e1e4e8;">        addBug(bug:string) {</span></span>
<span class="line"><span style="color:#e1e4e8;">          this.bugs.push(bug);</span></span>
<span class="line"><span style="color:#e1e4e8;">        },</span></span>
<span class="line"><span style="color:#e1e4e8;">        get bugsCount() {</span></span>
<span class="line"><span style="color:#e1e4e8;">          return this.bugs.length;</span></span>
<span class="line"><span style="color:#e1e4e8;">        },</span></span>
<span class="line"><span style="color:#e1e4e8;">      })</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      return (</span></span>
<span class="line"><span style="color:#e1e4e8;">        &lt;div style={{padding: 20}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          &lt;div style={{fontWeight: &#39;bold&#39;}}&gt;åŸºæœ¬ä½¿ç”¨ï¼š&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{marginTop: 8}}&gt; å¯¹æ•°å­—è¿›è¡Œæ“ä½œï¼š{state.count}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&#39;primary&#39; onClick={() =&gt; state.count++ } &gt;åŠ 1&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&#39;primary&#39; style={{marginLeft: 8}} onClick={() =&gt; state.count-- } &gt;å‡1&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&#39;primary&#39; style={{marginLeft: 8}} onClick={() =&gt; state.count = 7 } &gt;è®¾ç½®ä¸º7&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{marginTop: 8}}&gt; å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼š{state.name}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&#39;primary&#39; onClick={() =&gt; state.name = &#39;å°æœæœ&#39; } &gt;è®¾ç½®ä¸ºå°æœæœ&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&#39;primary&#39; style={{marginLeft: 8}} onClick={() =&gt; state.name = &#39;Domesy&#39;} &gt;è®¾ç½®ä¸ºDomesy&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{marginTop: 8}}&gt; å¯¹å¸ƒå°”å€¼è¿›è¡Œæ“ä½œï¼š{JSON.stringify(state.flag)}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&#39;primary&#39; onClick={() =&gt; state.flag = !state.flag } &gt;åˆ‡æ¢çŠ¶æ€&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{marginTop: 8}}&gt; å¯¹æ•°ç»„è¿›è¡Œæ“ä½œï¼š{JSON.stringify(state.arr)}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&quot;primary&quot; onClick={() =&gt; state.arr.push(Math.floor(Math.random() * 100))} &gt;push&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.pop()} &gt;pop&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.shift()} &gt;shift&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.unshift(Math.floor(Math.random() * 100))} &gt;unshift&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.reverse()} &gt;reverse&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.sort()} &gt;sort&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{fontWeight: &#39;bold&#39;, marginTop: 8}}&gt;è®¡ç®—å±æ€§ï¼š&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{marginTop: 8}}&gt;æ•°é‡ï¼š{ state.bugsCount } ä¸ª&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;div style={{margin: &#39;8px 0&#39;}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;form</span></span>
<span class="line"><span style="color:#e1e4e8;">               onSubmit={(e) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">                 state.bug ? state.addBug(state.bug) : state.addBug(&#39;domesy&#39;)</span></span>
<span class="line"><span style="color:#e1e4e8;">                 state.bug = &#39;&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">                 e.preventDefault();</span></span>
<span class="line"><span style="color:#e1e4e8;">               }}</span></span>
<span class="line"><span style="color:#e1e4e8;">             &gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">               &lt;input type=&quot;text&quot; value={state.bug} onChange={(e) =&gt; (state.bug = e.target.value)} /&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">               &lt;button type=&quot;submit&quot;  style={{marginLeft: 8}} &gt;å¢åŠ &lt;/button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">               &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.bugs.pop()}&gt;åˆ é™¤&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             &lt;/form&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;ul&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">             {</span></span>
<span class="line"><span style="color:#e1e4e8;">               state.bugs.map((bug:any, index:number) =&gt; (</span></span>
<span class="line"><span style="color:#e1e4e8;">                 &lt;li key={index}&gt;{bug}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">               ))</span></span>
<span class="line"><span style="color:#e1e4e8;">             }</span></span>
<span class="line"><span style="color:#e1e4e8;">           &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">      );</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { Button } from &#39;antd-mobile&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import React from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import { useReactive } from &#39;@/components&#39;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const Index:React.FC&lt;any&gt; = (props)=&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const state = useReactive&lt;any&gt;({</span></span>
<span class="line"><span style="color:#24292e;">        count: 0,</span></span>
<span class="line"><span style="color:#24292e;">        name: &#39;å°æœæœ&#39;,</span></span>
<span class="line"><span style="color:#24292e;">        flag: true,</span></span>
<span class="line"><span style="color:#24292e;">        arr: [],</span></span>
<span class="line"><span style="color:#24292e;">        bugs: [&#39;å°æœæœ&#39;, &#39;react&#39;, &#39;hook&#39;],</span></span>
<span class="line"><span style="color:#24292e;">        addBug(bug:string) {</span></span>
<span class="line"><span style="color:#24292e;">          this.bugs.push(bug);</span></span>
<span class="line"><span style="color:#24292e;">        },</span></span>
<span class="line"><span style="color:#24292e;">        get bugsCount() {</span></span>
<span class="line"><span style="color:#24292e;">          return this.bugs.length;</span></span>
<span class="line"><span style="color:#24292e;">        },</span></span>
<span class="line"><span style="color:#24292e;">      })</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      return (</span></span>
<span class="line"><span style="color:#24292e;">        &lt;div style={{padding: 20}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">          &lt;div style={{fontWeight: &#39;bold&#39;}}&gt;åŸºæœ¬ä½¿ç”¨ï¼š&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{marginTop: 8}}&gt; å¯¹æ•°å­—è¿›è¡Œæ“ä½œï¼š{state.count}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&#39;primary&#39; onClick={() =&gt; state.count++ } &gt;åŠ 1&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&#39;primary&#39; style={{marginLeft: 8}} onClick={() =&gt; state.count-- } &gt;å‡1&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&#39;primary&#39; style={{marginLeft: 8}} onClick={() =&gt; state.count = 7 } &gt;è®¾ç½®ä¸º7&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{marginTop: 8}}&gt; å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼š{state.name}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&#39;primary&#39; onClick={() =&gt; state.name = &#39;å°æœæœ&#39; } &gt;è®¾ç½®ä¸ºå°æœæœ&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&#39;primary&#39; style={{marginLeft: 8}} onClick={() =&gt; state.name = &#39;Domesy&#39;} &gt;è®¾ç½®ä¸ºDomesy&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{marginTop: 8}}&gt; å¯¹å¸ƒå°”å€¼è¿›è¡Œæ“ä½œï¼š{JSON.stringify(state.flag)}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&#39;primary&#39; onClick={() =&gt; state.flag = !state.flag } &gt;åˆ‡æ¢çŠ¶æ€&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{marginTop: 8}}&gt; å¯¹æ•°ç»„è¿›è¡Œæ“ä½œï¼š{JSON.stringify(state.arr)}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{margin: &#39;8px 0&#39;, display: &#39;flex&#39;,justifyContent: &#39;flex-start&#39;}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&quot;primary&quot; onClick={() =&gt; state.arr.push(Math.floor(Math.random() * 100))} &gt;push&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.pop()} &gt;pop&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.shift()} &gt;shift&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.unshift(Math.floor(Math.random() * 100))} &gt;unshift&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.reverse()} &gt;reverse&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.arr.sort()} &gt;sort&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{fontWeight: &#39;bold&#39;, marginTop: 8}}&gt;è®¡ç®—å±æ€§ï¼š&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{marginTop: 8}}&gt;æ•°é‡ï¼š{ state.bugsCount } ä¸ª&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;div style={{margin: &#39;8px 0&#39;}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;form</span></span>
<span class="line"><span style="color:#24292e;">               onSubmit={(e) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">                 state.bug ? state.addBug(state.bug) : state.addBug(&#39;domesy&#39;)</span></span>
<span class="line"><span style="color:#24292e;">                 state.bug = &#39;&#39;;</span></span>
<span class="line"><span style="color:#24292e;">                 e.preventDefault();</span></span>
<span class="line"><span style="color:#24292e;">               }}</span></span>
<span class="line"><span style="color:#24292e;">             &gt;</span></span>
<span class="line"><span style="color:#24292e;">               &lt;input type=&quot;text&quot; value={state.bug} onChange={(e) =&gt; (state.bug = e.target.value)} /&gt;</span></span>
<span class="line"><span style="color:#24292e;">               &lt;button type=&quot;submit&quot;  style={{marginLeft: 8}} &gt;å¢åŠ &lt;/button&gt;</span></span>
<span class="line"><span style="color:#24292e;">               &lt;Button color=&quot;primary&quot; style={{marginLeft: 8}} onClick={() =&gt; state.bugs.pop()}&gt;åˆ é™¤&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">             &lt;/form&gt;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">           &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">           &lt;ul&gt;</span></span>
<span class="line"><span style="color:#24292e;">             {</span></span>
<span class="line"><span style="color:#24292e;">               state.bugs.map((bug:any, index:number) =&gt; (</span></span>
<span class="line"><span style="color:#24292e;">                 &lt;li key={index}&gt;{bug}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#24292e;">               ))</span></span>
<span class="line"><span style="color:#24292e;">             }</span></span>
<span class="line"><span style="color:#24292e;">           &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#24292e;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">      );</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9571ffdbb94c478bbb34e8b37d9c454f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="useuse.gif"></p><h2 id="æ¡ˆä¾‹2-useeventlistener" tabindex="-1">æ¡ˆä¾‹2: useEventListener <a class="header-anchor" href="#æ¡ˆä¾‹2-useeventlistener" aria-label="Permalink to &quot;æ¡ˆä¾‹2: useEventListener&quot;">â€‹</a></h2><p>ç¼˜ç”±ï¼šæˆ‘ä»¬ç›‘å¬å„ç§äº‹ä»¶çš„æ—¶å€™éœ€è¦åšç›‘å¬ï¼Œå¦‚ï¼šç›‘å¬ç‚¹å‡»äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ã€æ»šåŠ¨äº‹ä»¶ç­‰ï¼Œæˆ‘ä»¬å°†å…¶ç»Ÿä¸€å°è£…èµ·æ¥ï¼Œæ–¹ä¾¿åç»­è°ƒç”¨</p><p>è¯´ç™½äº†å°±æ˜¯åœ¨<code>addEventListener</code>çš„åŸºç¡€ä¸Šè¿›è¡Œå°è£…ï¼Œæˆ‘ä»¬å…ˆæ¥æƒ³æƒ³åœ¨æ­¤åŸºç¡€ä¸Šéœ€è¦ä»€ä¹ˆï¼Ÿ</p><p>é¦–å…ˆï¼Œ<code>useEventListener</code>çš„å…¥å‚å¯åˆ†ä¸ºä¸‰ä¸ª</p><ul><li>ç¬¬ä¸€ä¸ª<code>event</code>æ˜¯äº‹ä»¶ï¼ˆå¦‚ï¼šclickã€keydownï¼‰</li><li>ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ï¼ˆæ‰€ä»¥ä¸éœ€è¦å‡ºå‚ï¼‰</li><li>ç¬¬ä¸‰ä¸ªå°±æ˜¯ç›®æ ‡ï¼ˆæ˜¯æŸä¸ªèŠ‚ç‚¹è¿˜æ˜¯å…¨å±€ï¼‰</li></ul><p>åœ¨è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯åœ¨<strong>é”€æ¯çš„æ—¶å€™éœ€è¦ç§»é™¤å¯¹åº”çš„ç›‘å¬äº‹ä»¶</strong></p><h3 id="ä»£ç -1" tabindex="-1">ä»£ç  <a class="header-anchor" href="#ä»£ç -1" aria-label="Permalink to &quot;ä»£ç &quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useEventListener = (event: string, handler: (...e:any) =&gt; void, target: any = window) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        const targetElement  = &#39;current&#39; in target ? target.current : window;</span></span>
<span class="line"><span style="color:#e1e4e8;">        const useEventListener = (event: Event) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          return handler(event)</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">        targetElement.addEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#e1e4e8;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          targetElement.removeEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, [event])</span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default useEventListener;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useEventListener = (event: string, handler: (...e:any) =&gt; void, target: any = window) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        const targetElement  = &#39;current&#39; in target ? target.current : window;</span></span>
<span class="line"><span style="color:#24292e;">        const useEventListener = (event: Event) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          return handler(event)</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">        targetElement.addEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#24292e;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          targetElement.removeEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">      }, [event])</span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default useEventListener;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>æ³¨ï¼šè¿™é‡ŒæŠŠ<code>target</code>é»˜è®¤è®¾ç½®æˆäº†<code>window</code>ï¼Œè‡³äºä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå†™ï¼š<code>&#39;current&#39; in target</code>æ˜¯å› ä¸ºæˆ‘ä»¬ç”¨<code>useRef</code>æ‹¿åˆ°çš„å€¼éƒ½æ˜¯ <code>ref.current</code></p><h3 id="æ”¯æŒssr-ä¼˜åŒ–" tabindex="-1">æ”¯æŒSSRï¼ˆä¼˜åŒ–ï¼‰ <a class="header-anchor" href="#æ”¯æŒssr-ä¼˜åŒ–" aria-label="Permalink to &quot;æ”¯æŒSSRï¼ˆä¼˜åŒ–ï¼‰&quot;">â€‹</a></h3><p>åœ¨åŸæœ¬çš„ahooksä»£ç ä¸­ï¼Œä¼šç”¨åˆ°<code>useEffectWithTarget</code>ï¼Œä¸€å¼€æé”™äº†ï¼Œä»¥ä¸ºè¿™ä¸ªæ˜¯ç±»ä¼¼äº<code>useCreation</code>çš„ä¼˜åŒ–ä½œç”¨ï¼Œå…¶å®ä¸æ˜¯ï¼Œè¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†æ”¯æŒ<code>SSR</code></p><p>å› ä¸º<code>SSR</code>çš„ç±»å‹æ˜¯ <code>() =&gt; HTMLElement</code>ï¼Œ å¦‚æœå°†è¿™ä¸ªä½œä¸º<code>useEffect</code>çš„å‚æ•°ï¼Œé‚£ä¹ˆå°±ç›¸å½“äº<code>deps</code>ä¸å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯æœ‰å…¶ä»–å˜é‡æ”¹å˜æ—¶ï¼Œ<code>useEffect</code>éƒ½ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥ä¸ºäº†å…¨é¢æ”¯æŒ<code>target</code>åŠ¨æ€å˜åŒ–ï¼Œæ‰ä¼šæœ‰è¿™ä¸ª<code>useEffectWithTarget</code>çš„è¯ç”Ÿï½</p><h3 id="è¯¦ç»†ä»£ç " tabindex="-1">è¯¦ç»†ä»£ç  <a class="header-anchor" href="#è¯¦ç»†ä»£ç " aria-label="Permalink to &quot;è¯¦ç»†ä»£ç &quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import type { DependencyList } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import { useRef } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import useUnmount from &#39;../useUnmount&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const depsAreSame = (oldDeps: DependencyList, deps: DependencyList):boolean =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">      for(let i = 0; i &lt; oldDeps.length; i++) {</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(!Object.is(oldDeps[i], deps[i])) return false</span></span>
<span class="line"><span style="color:#e1e4e8;">      }</span></span>
<span class="line"><span style="color:#e1e4e8;">      return true</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useEffectTarget = (effect: () =&gt; void, deps:DependencyList, target: any) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const hasInitRef = useRef(false); // ä¸€å¼€å§‹è®¾ç½®åˆå§‹åŒ–</span></span>
<span class="line"><span style="color:#e1e4e8;">      const elementRef = useRef&lt;(Element | null)[]&gt;([]);// å­˜å‚¨å…·ä½“çš„å€¼</span></span>
<span class="line"><span style="color:#e1e4e8;">      const depsRef = useRef&lt;DependencyList&gt;([]); // å­˜å‚¨ä¼ é€’çš„deps</span></span>
<span class="line"><span style="color:#e1e4e8;">      const unmountRef = useRef&lt;any&gt;(); // å­˜å‚¨å¯¹åº”çš„effect</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      // åˆå§‹åŒ– ç»„ä»¶çš„åˆå§‹åŒ–å’Œæ›´æ–°éƒ½ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#e1e4e8;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        const targetElement  = &#39;current&#39; in target ? target.current : window;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        // ç¬¬ä¸€éèµ‹å€¼</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(!hasInitRef.current){</span></span>
<span class="line"><span style="color:#e1e4e8;">          hasInitRef.current = true;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">          elementRef.current = targetElement;</span></span>
<span class="line"><span style="color:#e1e4e8;">          depsRef.current = deps;</span></span>
<span class="line"><span style="color:#e1e4e8;">          unmountRef.current = effect();</span></span>
<span class="line"><span style="color:#e1e4e8;">          return</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">        // æ ¡éªŒå˜å€¼: ç›®æ ‡çš„å€¼ä¸åŒï¼Œ ä¾èµ–å€¼æ”¹å˜</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(elementRef.current !== targetElement || !depsAreSame(deps, depsRef.current)){</span></span>
<span class="line"><span style="color:#e1e4e8;">          //å…ˆæ‰§è¡Œå¯¹åº”çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#e1e4e8;">          unmountRef.current?.();</span></span>
<span class="line"><span style="color:#e1e4e8;">          //é‡æ–°è¿›è¡Œèµ‹å€¼</span></span>
<span class="line"><span style="color:#e1e4e8;">          elementRef.current = targetElement;</span></span>
<span class="line"><span style="color:#e1e4e8;">          depsRef.current = deps; </span></span>
<span class="line"><span style="color:#e1e4e8;">          unmountRef.current = effect();</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">      })</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useUnmount(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        unmountRef.current?.();</span></span>
<span class="line"><span style="color:#e1e4e8;">        hasInitRef.current = false;</span></span>
<span class="line"><span style="color:#e1e4e8;">      })</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useEventListener = (event: string, handler: (...e:any) =&gt; void, target: any = window) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">      const handlerRef = useLatest(handler);</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEffectTarget(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        const targetElement  = &#39;current&#39; in target ? target.current : window;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        //  é˜²æ­¢æ²¡æœ‰ addEventListener è¿™ä¸ªå±æ€§</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(!targetElement?.addEventListener) return;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        const useEventListener = (event: Event) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          return handlerRef.current(event)</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">        targetElement.addEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#e1e4e8;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          targetElement.removeEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, [event], target)</span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default useEventListener;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import type { DependencyList } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import { useRef } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import useUnmount from &#39;../useUnmount&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const depsAreSame = (oldDeps: DependencyList, deps: DependencyList):boolean =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">      for(let i = 0; i &lt; oldDeps.length; i++) {</span></span>
<span class="line"><span style="color:#24292e;">        if(!Object.is(oldDeps[i], deps[i])) return false</span></span>
<span class="line"><span style="color:#24292e;">      }</span></span>
<span class="line"><span style="color:#24292e;">      return true</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useEffectTarget = (effect: () =&gt; void, deps:DependencyList, target: any) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const hasInitRef = useRef(false); // ä¸€å¼€å§‹è®¾ç½®åˆå§‹åŒ–</span></span>
<span class="line"><span style="color:#24292e;">      const elementRef = useRef&lt;(Element | null)[]&gt;([]);// å­˜å‚¨å…·ä½“çš„å€¼</span></span>
<span class="line"><span style="color:#24292e;">      const depsRef = useRef&lt;DependencyList&gt;([]); // å­˜å‚¨ä¼ é€’çš„deps</span></span>
<span class="line"><span style="color:#24292e;">      const unmountRef = useRef&lt;any&gt;(); // å­˜å‚¨å¯¹åº”çš„effect</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      // åˆå§‹åŒ– ç»„ä»¶çš„åˆå§‹åŒ–å’Œæ›´æ–°éƒ½ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#24292e;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        const targetElement  = &#39;current&#39; in target ? target.current : window;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        // ç¬¬ä¸€éèµ‹å€¼</span></span>
<span class="line"><span style="color:#24292e;">        if(!hasInitRef.current){</span></span>
<span class="line"><span style="color:#24292e;">          hasInitRef.current = true;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">          elementRef.current = targetElement;</span></span>
<span class="line"><span style="color:#24292e;">          depsRef.current = deps;</span></span>
<span class="line"><span style="color:#24292e;">          unmountRef.current = effect();</span></span>
<span class="line"><span style="color:#24292e;">          return</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">        // æ ¡éªŒå˜å€¼: ç›®æ ‡çš„å€¼ä¸åŒï¼Œ ä¾èµ–å€¼æ”¹å˜</span></span>
<span class="line"><span style="color:#24292e;">        if(elementRef.current !== targetElement || !depsAreSame(deps, depsRef.current)){</span></span>
<span class="line"><span style="color:#24292e;">          //å…ˆæ‰§è¡Œå¯¹åº”çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#24292e;">          unmountRef.current?.();</span></span>
<span class="line"><span style="color:#24292e;">          //é‡æ–°è¿›è¡Œèµ‹å€¼</span></span>
<span class="line"><span style="color:#24292e;">          elementRef.current = targetElement;</span></span>
<span class="line"><span style="color:#24292e;">          depsRef.current = deps; </span></span>
<span class="line"><span style="color:#24292e;">          unmountRef.current = effect();</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">      })</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useUnmount(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        unmountRef.current?.();</span></span>
<span class="line"><span style="color:#24292e;">        hasInitRef.current = false;</span></span>
<span class="line"><span style="color:#24292e;">      })</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useEventListener = (event: string, handler: (...e:any) =&gt; void, target: any = window) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">      const handlerRef = useLatest(handler);</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEffectTarget(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        const targetElement  = &#39;current&#39; in target ? target.current : window;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        //  é˜²æ­¢æ²¡æœ‰ addEventListener è¿™ä¸ªå±æ€§</span></span>
<span class="line"><span style="color:#24292e;">        if(!targetElement?.addEventListener) return;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        const useEventListener = (event: Event) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          return handlerRef.current(event)</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">        targetElement.addEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#24292e;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          targetElement.removeEventListener(event, useEventListener)</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">      }, [event], target)</span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default useEventListener;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><ul><li>åœ¨è¿™é‡Œåªç”¨<code>useEffect</code>æ˜¯å› ä¸ºï¼Œåœ¨æ›´æ–°å’Œåˆå§‹åŒ–çš„æƒ…å†µä¸‹éƒ½éœ€è¦ä½¿ç”¨</li><li>å¿…é¡»è¦é˜²æ­¢æ²¡æœ‰ <code>addEventListener</code>è¿™ä¸ªå±æ€§çš„æƒ…å†µï¼Œç›‘å¬çš„ç›®æ ‡æœ‰å¯èƒ½æ²¡æœ‰åŠ è½½å‡ºæ¥</li></ul><h3 id="éªŒè¯-1" tabindex="-1">éªŒè¯ <a class="header-anchor" href="#éªŒè¯-1" aria-label="Permalink to &quot;éªŒè¯&quot;">â€‹</a></h3><p>éªŒè¯ä¸€ä¸‹<code>useEventListener</code>æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸çš„ä½¿ç”¨ï¼Œé¡ºå˜éªŒè¯ä¸€ä¸‹åˆå§‹åŒ–ã€å¸è½½çš„ï¼Œä»£ç ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import React, { useState, useRef } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import { useEventListener } from &#39;@/components&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import { Button } from &#39;antd-mobile&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const Index:React.FC&lt;any&gt; = (props)=&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const [count, setCount] = useState&lt;number&gt;(0)</span></span>
<span class="line"><span style="color:#e1e4e8;">      const [flag, setFlag] = useState&lt;boolean&gt;(true)</span></span>
<span class="line"><span style="color:#e1e4e8;">      const [key, setKey] = useState&lt;string&gt;(&#39;&#39;)</span></span>
<span class="line"><span style="color:#e1e4e8;">      const ref = useRef(null);</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEventListener(&#39;click&#39;, () =&gt; setCount(v =&gt; v +1), ref)</span></span>
<span class="line"><span style="color:#e1e4e8;">      useEventListener(&#39;keydown&#39;, (ev) =&gt; setKey(ev.key));</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      return (</span></span>
<span class="line"><span style="color:#e1e4e8;">        &lt;div style={{padding: 20}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          &lt;Button color=&#39;primary&#39; onClick={() =&gt; {setFlag(v =&gt; !v)}}&gt;åˆ‡æ¢ {flag ? &#39;unmount&#39; : &#39;mount&#39;}&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          {</span></span>
<span class="line"><span style="color:#e1e4e8;">            flag &amp;&amp; &lt;div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">              &lt;div&gt;æ•°å­—ï¼š{count}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">              &lt;button ref={ref} &gt;åŠ 1&lt;/button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">              &lt;div&gt;ç›‘å¬é”®ç›˜äº‹ä»¶ï¼š{key}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">      );</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import React, { useState, useRef } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import { useEventListener } from &#39;@/components&#39;</span></span>
<span class="line"><span style="color:#24292e;">    import { Button } from &#39;antd-mobile&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const Index:React.FC&lt;any&gt; = (props)=&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const [count, setCount] = useState&lt;number&gt;(0)</span></span>
<span class="line"><span style="color:#24292e;">      const [flag, setFlag] = useState&lt;boolean&gt;(true)</span></span>
<span class="line"><span style="color:#24292e;">      const [key, setKey] = useState&lt;string&gt;(&#39;&#39;)</span></span>
<span class="line"><span style="color:#24292e;">      const ref = useRef(null);</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEventListener(&#39;click&#39;, () =&gt; setCount(v =&gt; v +1), ref)</span></span>
<span class="line"><span style="color:#24292e;">      useEventListener(&#39;keydown&#39;, (ev) =&gt; setKey(ev.key));</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      return (</span></span>
<span class="line"><span style="color:#24292e;">        &lt;div style={{padding: 20}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">          &lt;Button color=&#39;primary&#39; onClick={() =&gt; {setFlag(v =&gt; !v)}}&gt;åˆ‡æ¢ {flag ? &#39;unmount&#39; : &#39;mount&#39;}&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">          {</span></span>
<span class="line"><span style="color:#24292e;">            flag &amp;&amp; &lt;div&gt;</span></span>
<span class="line"><span style="color:#24292e;">              &lt;div&gt;æ•°å­—ï¼š{count}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">              &lt;button ref={ref} &gt;åŠ 1&lt;/button&gt;</span></span>
<span class="line"><span style="color:#24292e;">              &lt;div&gt;ç›‘å¬é”®ç›˜äº‹ä»¶ï¼š{key}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">          }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">      );</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>æ•ˆæœï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9dbb36ddad2d41f9917b8db7355d283a~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="useEvent.gif"></p><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>useEventListener</code>è¿™ä¸ªé’©å­å»å°è£…å…¶ä»–é’©å­ï¼Œå¦‚ é¼ æ ‡æ‚¬åœï¼Œé•¿æŒ‰äº‹ä»¶ï¼Œé¼ æ ‡ä½ç½®ç­‰ï¼Œåœ¨è¿™é‡Œåœ¨ä¸¾ä¸€ä¸ªé¼ æ ‡æ‚¬åœçš„å°ä¾‹å­</p><h3 id="å°ä¾‹å­-usehover" tabindex="-1">å°ä¾‹å­ useHover <a class="header-anchor" href="#å°ä¾‹å­-usehover" aria-label="Permalink to &quot;å°ä¾‹å­ useHover&quot;">â€‹</a></h3><p><strong>useHover</strong>ï¼šç›‘å¬ DOM å…ƒç´ æ˜¯å¦æœ‰é¼ æ ‡æ‚¬åœ</p><p>è¿™ä¸ªå°±å¾ˆç®€å•äº†ï¼Œåªéœ€è¦é€šè¿‡ <code>useEventListener</code>æ¥ç›‘å¬<code>mouseenter</code>å’Œ<code>mouseleave</code>å³å¯ï¼Œåœ¨è¿”å›å¸ƒå°”å€¼å°±è¡Œäº†ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { useState } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import useEventListener  from &#39;../useEventListener&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    interface Options {</span></span>
<span class="line"><span style="color:#e1e4e8;">      onEnter?: () =&gt; void;</span></span>
<span class="line"><span style="color:#e1e4e8;">      onLeave?: () =&gt; void;</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useHover = (target:any, options?:Options): boolean =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const [flag, setFlag] = useState&lt;boolean&gt;(false)</span></span>
<span class="line"><span style="color:#e1e4e8;">      const { onEnter, onLeave } = options || {};</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEventListener(&#39;mouseenter&#39;, () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        onEnter?.()</span></span>
<span class="line"><span style="color:#e1e4e8;">        setFlag(true)</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, target)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEventListener(&#39;mouseleave&#39;, () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        onLeave?.()</span></span>
<span class="line"><span style="color:#e1e4e8;">        setFlag(false)</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, target)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      return flag</span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default useHover;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { useState } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import useEventListener  from &#39;../useEventListener&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    interface Options {</span></span>
<span class="line"><span style="color:#24292e;">      onEnter?: () =&gt; void;</span></span>
<span class="line"><span style="color:#24292e;">      onLeave?: () =&gt; void;</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useHover = (target:any, options?:Options): boolean =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const [flag, setFlag] = useState&lt;boolean&gt;(false)</span></span>
<span class="line"><span style="color:#24292e;">      const { onEnter, onLeave } = options || {};</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEventListener(&#39;mouseenter&#39;, () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        onEnter?.()</span></span>
<span class="line"><span style="color:#24292e;">        setFlag(true)</span></span>
<span class="line"><span style="color:#24292e;">      }, target)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEventListener(&#39;mouseleave&#39;, () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        onLeave?.()</span></span>
<span class="line"><span style="color:#24292e;">        setFlag(false)</span></span>
<span class="line"><span style="color:#24292e;">      }, target)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      return flag</span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default useHover;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>æ•ˆæœï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d77611b1d33647e689398e380f1fdb16~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="useHover.gif"></p><h2 id="æ¡ˆä¾‹3-æœ‰å…³æ—¶é—´çš„hooks" tabindex="-1">æ¡ˆä¾‹3: æœ‰å…³æ—¶é—´çš„Hooks <a class="header-anchor" href="#æ¡ˆä¾‹3-æœ‰å…³æ—¶é—´çš„hooks" aria-label="Permalink to &quot;æ¡ˆä¾‹3: æœ‰å…³æ—¶é—´çš„Hooks&quot;">â€‹</a></h2><p>åœ¨è¿™é‡Œä¸»è¦ä»‹ç»æœ‰å…³æ—¶é—´çš„ä¸‰ä¸ªhooks,åˆ†åˆ«æ˜¯ï¼š<code>useTimeout</code>ã€<code>useInterval</code>å’Œ<code>useCountDown</code></p><h3 id="usetimeout" tabindex="-1">useTimeout <a class="header-anchor" href="#usetimeout" aria-label="Permalink to &quot;useTimeout&quot;">â€‹</a></h3><p><strong>useTimeout</strong>ï¼šä¸€æ®µæ—¶é—´å†…ï¼Œæ‰§è¡Œä¸€æ¬¡</p><p>ä¼ é€’å‚æ•°åªè¦å‡½æ•°å’Œå»¶è¿Ÿæ—¶é—´å³å¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¸è½½çš„æ—¶å€™å°†å®šæ—¶å™¨æ¸…é™¤ä¸‹å°±OKäº†</p><p>è¯¦ç»†ä»£ç ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useTimeout = (fn:() =&gt; void, delay?: number): void =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const fnRef = useLatest(fn)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(!delay || delay &lt; 0) return;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        const timer = setTimeout(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          fnRef.current();</span></span>
<span class="line"><span style="color:#e1e4e8;">        }, delay)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          clearTimeout(timer)</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, [delay])</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default useTimeout;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useTimeout = (fn:() =&gt; void, delay?: number): void =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const fnRef = useLatest(fn)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        if(!delay || delay &lt; 0) return;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        const timer = setTimeout(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          fnRef.current();</span></span>
<span class="line"><span style="color:#24292e;">        }, delay)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          clearTimeout(timer)</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">      }, [delay])</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default useTimeout;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>æ•ˆæœå±•ç¤ºï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38ea46cb005e4b7e92979bc56ffb76f9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img3.gif"></p><h3 id="useinterval" tabindex="-1">useInterval <a class="header-anchor" href="#useinterval" aria-label="Permalink to &quot;useInterval&quot;">â€‹</a></h3><p><strong>useInterval</strong>: æ¯è¿‡ä¸€æ®µæ—¶é—´å†…ä¸€ç›´æ‰§è¡Œ</p><p>å¤§ä½“ä¸Šä¸<code>useTimeout</code>ä¸€æ ·ï¼Œå¤šäº†ä¸€ä¸ªæ˜¯å¦è¦é¦–æ¬¡æ¸²æŸ“çš„å‚æ•°<code>immediate</code></p><p>è¯¦ç»†ä»£ç ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useInterval = (fn:() =&gt; void, delay?: number, immediate?:boolean): void =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const fnRef = useLatest(fn)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(!delay || delay &lt; 0) return;</span></span>
<span class="line"><span style="color:#e1e4e8;">        if(immediate) fnRef.current();</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        const timer = setInterval(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          fnRef.current();</span></span>
<span class="line"><span style="color:#e1e4e8;">        }, delay)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          clearInterval(timer)</span></span>
<span class="line"><span style="color:#e1e4e8;">        }</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, [delay])</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default useInterval;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useInterval = (fn:() =&gt; void, delay?: number, immediate?:boolean): void =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const fnRef = useLatest(fn)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        if(!delay || delay &lt; 0) return;</span></span>
<span class="line"><span style="color:#24292e;">        if(immediate) fnRef.current();</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        const timer = setInterval(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          fnRef.current();</span></span>
<span class="line"><span style="color:#24292e;">        }, delay)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        return () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          clearInterval(timer)</span></span>
<span class="line"><span style="color:#24292e;">        }</span></span>
<span class="line"><span style="color:#24292e;">      }, [delay])</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default useInterval;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>æ•ˆæœå±•ç¤ºï¼š <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/47b323c0e8b04546a5a30f51b9eb3488~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img4.gif"></p><h3 id="usecountdown" tabindex="-1">useCountDown <a class="header-anchor" href="#usecountdown" aria-label="Permalink to &quot;useCountDown&quot;">â€‹</a></h3><p><strong>useCountDown</strong>ï¼šç®€å•æ§åˆ¶å€’è®¡æ—¶çš„é’©å­</p><p>è·Ÿä¹‹å‰ä¸€æ ·æˆ‘ä»¬å…ˆæ¥æƒ³æƒ³è¿™ä¸ªé’©å­éœ€è¦ä»€ä¹ˆï¼š</p><ul><li>æˆ‘ä»¬è¦åšå€’è®¡æ—¶çš„é’©å­é¦–å…ˆéœ€è¦ä¸€ä¸ªç›®æ ‡æ—¶é—´ï¼ˆtargetDateï¼‰ï¼Œæ§åˆ¶æ—¶é—´å˜åŒ–çš„ç§’æ•°ï¼ˆintervalé»˜è®¤ä¸º1sï¼‰ï¼Œç„¶åå°±æ˜¯å€’è®¡æ—¶å®Œæˆåæ‰€è§¦å‘çš„å‡½æ•°ï¼ˆonEndï¼‰</li><li>è¿”å‚å°±æ›´åŠ ä¸€ç›®äº†ç„¶äº†ï¼Œè¿”å›çš„æ˜¯ä¸¤ä¸ªæ—¶é—´å·®çš„æ•°å€¼ï¼ˆtimeï¼‰ï¼Œå†è¯¦ç»†ç‚¹å¯ä»¥æ¢ç®—æˆå¯¹åº”çš„å¤©ã€æ—¶ã€åˆ†ç­‰ï¼ˆformattedResï¼‰</li></ul><h4 id="è¯¦ç»†ä»£ç -1" tabindex="-1">è¯¦ç»†ä»£ç  <a class="header-anchor" href="#è¯¦ç»†ä»£ç -1" aria-label="Permalink to &quot;è¯¦ç»†ä»£ç &quot;">â€‹</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import { useState, useEffect, useMemo } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import dayjs from &#39;dayjs&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    type DTime = Date | number | string | undefined;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    interface Options {</span></span>
<span class="line"><span style="color:#e1e4e8;">      targetDate?: DTime;</span></span>
<span class="line"><span style="color:#e1e4e8;">      interval?: number;</span></span>
<span class="line"><span style="color:#e1e4e8;">      onEnd?: () =&gt; void;</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    interface FormattedRes {</span></span>
<span class="line"><span style="color:#e1e4e8;">      days: number;</span></span>
<span class="line"><span style="color:#e1e4e8;">      hours: number;</span></span>
<span class="line"><span style="color:#e1e4e8;">      minutes: number;</span></span>
<span class="line"><span style="color:#e1e4e8;">      seconds: number;</span></span>
<span class="line"><span style="color:#e1e4e8;">      milliseconds: number;</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const calcTime = (time: DTime) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">      if(!time) return 0</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const res = dayjs(time).valueOf() - new Date().getTime(); //è®¡ç®—å·®å€¼</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      if(res &lt; 0) return 0</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      return res</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const parseMs = (milliseconds: number): FormattedRes =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">      return {</span></span>
<span class="line"><span style="color:#e1e4e8;">        days: Math.floor(milliseconds / 86400000),</span></span>
<span class="line"><span style="color:#e1e4e8;">        hours: Math.floor(milliseconds / 3600000) % 24,</span></span>
<span class="line"><span style="color:#e1e4e8;">        minutes: Math.floor(milliseconds / 60000) % 60,</span></span>
<span class="line"><span style="color:#e1e4e8;">        seconds: Math.floor(milliseconds / 1000) % 60,</span></span>
<span class="line"><span style="color:#e1e4e8;">        milliseconds: Math.floor(milliseconds) % 1000,</span></span>
<span class="line"><span style="color:#e1e4e8;">      };</span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const useCountDown = (options?: Options) =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const { targetDate, interval = 1000, onEnd } = options || {};</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const [time, setTime] = useState(() =&gt;  calcTime(targetDate));</span></span>
<span class="line"><span style="color:#e1e4e8;">      const onEndRef = useLatest(onEnd);</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        if(!targetDate) return setTime(0)</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        setTime(calcTime(targetDate))</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">        const timer = setInterval(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          const target = calcTime(targetDate);</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">          setTime(target);</span></span>
<span class="line"><span style="color:#e1e4e8;">          if (target === 0) {</span></span>
<span class="line"><span style="color:#e1e4e8;">            clearInterval(timer);</span></span>
<span class="line"><span style="color:#e1e4e8;">            onEndRef.current?.();</span></span>
<span class="line"><span style="color:#e1e4e8;">          }</span></span>
<span class="line"><span style="color:#e1e4e8;">        }, interval);</span></span>
<span class="line"><span style="color:#e1e4e8;">        return () =&gt; clearInterval(timer);</span></span>
<span class="line"><span style="color:#e1e4e8;">      },[targetDate, interval])</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const formattedRes = useMemo(() =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">        return parseMs(time);</span></span>
<span class="line"><span style="color:#e1e4e8;">      }, [time]);</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      return [time, formattedRes] as const</span></span>
<span class="line"><span style="color:#e1e4e8;">    };</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default useCountDown;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import { useState, useEffect, useMemo } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import useLatest from &#39;../useLatest&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import dayjs from &#39;dayjs&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    type DTime = Date | number | string | undefined;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    interface Options {</span></span>
<span class="line"><span style="color:#24292e;">      targetDate?: DTime;</span></span>
<span class="line"><span style="color:#24292e;">      interval?: number;</span></span>
<span class="line"><span style="color:#24292e;">      onEnd?: () =&gt; void;</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    interface FormattedRes {</span></span>
<span class="line"><span style="color:#24292e;">      days: number;</span></span>
<span class="line"><span style="color:#24292e;">      hours: number;</span></span>
<span class="line"><span style="color:#24292e;">      minutes: number;</span></span>
<span class="line"><span style="color:#24292e;">      seconds: number;</span></span>
<span class="line"><span style="color:#24292e;">      milliseconds: number;</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const calcTime = (time: DTime) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">      if(!time) return 0</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const res = dayjs(time).valueOf() - new Date().getTime(); //è®¡ç®—å·®å€¼</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      if(res &lt; 0) return 0</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      return res</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const parseMs = (milliseconds: number): FormattedRes =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">      return {</span></span>
<span class="line"><span style="color:#24292e;">        days: Math.floor(milliseconds / 86400000),</span></span>
<span class="line"><span style="color:#24292e;">        hours: Math.floor(milliseconds / 3600000) % 24,</span></span>
<span class="line"><span style="color:#24292e;">        minutes: Math.floor(milliseconds / 60000) % 60,</span></span>
<span class="line"><span style="color:#24292e;">        seconds: Math.floor(milliseconds / 1000) % 60,</span></span>
<span class="line"><span style="color:#24292e;">        milliseconds: Math.floor(milliseconds) % 1000,</span></span>
<span class="line"><span style="color:#24292e;">      };</span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const useCountDown = (options?: Options) =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const { targetDate, interval = 1000, onEnd } = options || {};</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const [time, setTime] = useState(() =&gt;  calcTime(targetDate));</span></span>
<span class="line"><span style="color:#24292e;">      const onEndRef = useLatest(onEnd);</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      useEffect(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        if(!targetDate) return setTime(0)</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        setTime(calcTime(targetDate))</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">        const timer = setInterval(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          const target = calcTime(targetDate);</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">          setTime(target);</span></span>
<span class="line"><span style="color:#24292e;">          if (target === 0) {</span></span>
<span class="line"><span style="color:#24292e;">            clearInterval(timer);</span></span>
<span class="line"><span style="color:#24292e;">            onEndRef.current?.();</span></span>
<span class="line"><span style="color:#24292e;">          }</span></span>
<span class="line"><span style="color:#24292e;">        }, interval);</span></span>
<span class="line"><span style="color:#24292e;">        return () =&gt; clearInterval(timer);</span></span>
<span class="line"><span style="color:#24292e;">      },[targetDate, interval])</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const formattedRes = useMemo(() =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">        return parseMs(time);</span></span>
<span class="line"><span style="color:#24292e;">      }, [time]);</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      return [time, formattedRes] as const</span></span>
<span class="line"><span style="color:#24292e;">    };</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default useCountDown;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h4 id="éªŒè¯-2" tabindex="-1">éªŒè¯ <a class="header-anchor" href="#éªŒè¯-2" aria-label="Permalink to &quot;éªŒè¯&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">    import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import { useCountDown } from &#39;@/components&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">    import { Button, Toast } from &#39;antd-mobile&#39;;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    const Index:React.FC&lt;any&gt; = (props)=&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const [_, formattedRes] = useCountDown({</span></span>
<span class="line"><span style="color:#e1e4e8;">        targetDate: &#39;2022-12-31 24:00:00&#39;,</span></span>
<span class="line"><span style="color:#e1e4e8;">      });</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const { days, hours, minutes, seconds, milliseconds } = formattedRes;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const [count, setCount] = useState&lt;number&gt;();</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      const [countdown] = useCountDown({</span></span>
<span class="line"><span style="color:#e1e4e8;">        targetDate: count,</span></span>
<span class="line"><span style="color:#e1e4e8;">        onEnd: () =&gt; {</span></span>
<span class="line"><span style="color:#e1e4e8;">          Toast.show(&#39;ç»“æŸ&#39;)</span></span>
<span class="line"><span style="color:#e1e4e8;">        },</span></span>
<span class="line"><span style="color:#e1e4e8;">      });</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">      return (</span></span>
<span class="line"><span style="color:#e1e4e8;">        &lt;div style={{padding: 20}}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          &lt;div&gt; è·ç¦» 2022-12-31 24:00:00 è¿˜æœ‰ {days} å¤© {hours} æ—¶ {minutes} åˆ† {seconds} ç§’ {milliseconds} æ¯«ç§’&lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          &lt;div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">            &lt;p style={{marginTop: 12}}&gt;åŠ¨æ€å˜åŒ–ï¼š&lt;/p&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">            &lt;Button color=&#39;primary&#39; disabled={countdown !== 0} onClick={() =&gt; setCount(Date.now() + 3000)}&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">              {countdown === 0 ? &#39;å¼€å§‹&#39; : `è¿˜æœ‰ ${Math.round(countdown / 1000)}s`}</span></span>
<span class="line"><span style="color:#e1e4e8;">            &lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">            &lt;Button style={{marginLeft: 8}} onClick={() =&gt; setCount(undefined)}&gt;åœæ­¢&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">          &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">      );</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">    export default Index;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">    import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#24292e;">    import { useCountDown } from &#39;@/components&#39;</span></span>
<span class="line"><span style="color:#24292e;">    import { Button, Toast } from &#39;antd-mobile&#39;;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    const Index:React.FC&lt;any&gt; = (props)=&gt; {</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const [_, formattedRes] = useCountDown({</span></span>
<span class="line"><span style="color:#24292e;">        targetDate: &#39;2022-12-31 24:00:00&#39;,</span></span>
<span class="line"><span style="color:#24292e;">      });</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const { days, hours, minutes, seconds, milliseconds } = formattedRes;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const [count, setCount] = useState&lt;number&gt;();</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      const [countdown] = useCountDown({</span></span>
<span class="line"><span style="color:#24292e;">        targetDate: count,</span></span>
<span class="line"><span style="color:#24292e;">        onEnd: () =&gt; {</span></span>
<span class="line"><span style="color:#24292e;">          Toast.show(&#39;ç»“æŸ&#39;)</span></span>
<span class="line"><span style="color:#24292e;">        },</span></span>
<span class="line"><span style="color:#24292e;">      });</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">      return (</span></span>
<span class="line"><span style="color:#24292e;">        &lt;div style={{padding: 20}}&gt;</span></span>
<span class="line"><span style="color:#24292e;">          &lt;div&gt; è·ç¦» 2022-12-31 24:00:00 è¿˜æœ‰ {days} å¤© {hours} æ—¶ {minutes} åˆ† {seconds} ç§’ {milliseconds} æ¯«ç§’&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">          &lt;div&gt;</span></span>
<span class="line"><span style="color:#24292e;">            &lt;p style={{marginTop: 12}}&gt;åŠ¨æ€å˜åŒ–ï¼š&lt;/p&gt;</span></span>
<span class="line"><span style="color:#24292e;">            &lt;Button color=&#39;primary&#39; disabled={countdown !== 0} onClick={() =&gt; setCount(Date.now() + 3000)}&gt;</span></span>
<span class="line"><span style="color:#24292e;">              {countdown === 0 ? &#39;å¼€å§‹&#39; : `è¿˜æœ‰ ${Math.round(countdown / 1000)}s`}</span></span>
<span class="line"><span style="color:#24292e;">            &lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">            &lt;Button style={{marginLeft: 8}} onClick={() =&gt; setCount(undefined)}&gt;åœæ­¢&lt;/Button&gt;</span></span>
<span class="line"><span style="color:#24292e;">          &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">      );</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">    export default Index;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="æ•ˆæœå±•ç¤º" tabindex="-1">æ•ˆæœå±•ç¤º <a class="header-anchor" href="#æ•ˆæœå±•ç¤º" aria-label="Permalink to &quot;æ•ˆæœå±•ç¤º&quot;">â€‹</a></h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f41eaef407564c86b27aac51c4539da2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?" alt="img5.gif"></p><h2 id="end" tabindex="-1">End <a class="header-anchor" href="#end" aria-label="Permalink to &quot;End&quot;">â€‹</a></h2><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to &quot;å‚è€ƒ&quot;">â€‹</a></h2><ul><li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fahooks.js.org%2Fzh-CN%2Fhooks%2Fuse-request%2Findex" title="https://ahooks.js.org/zh-CN/hooks/use-request/index" target="_blank" rel="noreferrer">ahooks</a></li></ul><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>ç®€å•çš„åšä¸‹æ€»ç»“ï¼š</p><ul><li>ä¸€ä¸ªä¼˜ç§€çš„hooksä¸€å®šä¼šå…·å¤‡<code>useMemo</code>ã€<code>useCallback</code>ç­‰apiä¼˜åŒ–</li><li>åˆ¶ä½œè‡ªå®šä¹‰hooksé‡åˆ°ä¼ é€’è¿‡æ¥çš„å€¼ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨<code>useRef</code>ï¼Œå†è€ƒè™‘ç”¨<code>useState</code>ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>useLatest</code>ï¼Œé˜²æ­¢æ‹¿åˆ°çš„å€¼ä¸æ˜¯æœ€æ–°å€¼</li><li>åœ¨å°è£…çš„æ—¶å€™ï¼Œåº”è¯¥å°†å­˜æ”¾çš„å€¼æ”¾å…¥ <code>useRef</code>ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªçŠ¶æ€å»è®¾ç½®ä»–çš„åˆå§‹åŒ–ï¼Œåœ¨åˆ¤æ–­ä»€ä¹ˆæƒ…å†µä¸‹æ¥æ›´æ–°æ‰€å¯¹åº”çš„å€¼ï¼Œæ˜ç¡®å…¥å‚ä¸å‡ºå‚çš„å…·ä½“æ„ä¹‰ï¼Œå¦‚<code>useCreation</code>å’Œ<code>useEventListener</code></li></ul></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-ef5dee53><!----><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>æœ€åæ›´æ–°: <time datetime="2023-10-05T08:40:18.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/interview-question/Vue3%E4%B8%AD%E6%93%8D%E4%BD%9Cdom%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E5%BC%8F" data-v-ef5dee53><span class="desc" data-v-ef5dee53>ä¸Šä¸€ç¯‡</span><span class="title" data-v-ef5dee53>Vue3ä¸­æ“ä½œdomçš„å››ç§æ–¹å¼</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/interview-question/react%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98" data-v-ef5dee53><span class="desc" data-v-ef5dee53>ä¸‹ä¸€ç¯‡</span><span class="title" data-v-ef5dee53>Reactçš„setStateæ˜¯å¼‚æ­¥çš„è¿˜æ˜¯åŒæ­¥çš„</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><p class="message" data-v-e03eb2e1>ç½‘ç«™åœ°å›¾ - å‹æƒ…é“¾æ¥ - ç‰ˆæƒè¯´æ˜ - ä¾µåˆ è”ç³» - çš–ICPå¤‡17005424å·-2</p><p class="copyright" data-v-e03eb2e1>CopyRight Â© 2020-2023 <a target="_blank" href="//geekbuluo.com">æå®¢éƒ¨è½</a> All Rights Reserved</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"cssè®¾è®¡æŒ‡å—(ç¬¬3ç‰ˆ).md\":\"681864ae\",\"å¯¼è¯».md\":\"24517c9e\",\"category.md\":\"44330292\",\"index.md\":\"1deb5603\",\"interview-question_gitåŸºæœ¬æ“ä½œ.md\":\"2c1837dc\",\"interview-question_dockeræ¦‚å¿µ.md\":\"f3b166f2\",\"interview-question_13ä¸ªå¾ˆé…·ä½†å¾ˆå°‘æœ‰äººçŸ¥é“çš„htmlå…ƒç´ .md\":\"b872b9ae\",\"interview-question_htmlåŸºç¡€.md\":\"cd561ba7\",\"interview-question_gitå·¥ä½œåŒº_æš‚å­˜åŒºçš„æ“ä½œå‘½ä»¤.md\":\"40cca9f1\",\"interview-question_äº‹ä»¶å¾ªç¯.md\":\"a8209883\",\"interview-question_json stringifyç‰¹æ€§.md\":\"98ef5b7e\",\"interview-question_metaæ ‡ç­¾.md\":\"e997bdbd\",\"interview-question_jså¼‚æ­¥.md\":\"3d6b3230\",\"interview-question_gitå¸¸ç”¨å‘½ä»¤.md\":\"d183a36e\",\"interview-question_doctype.md\":\"dec10b6e\",\"interview-question_å‰ç«¯cssåŸºç¡€.md\":\"edcd4ea3\",\"interview-question_jsä¸­çš„è®¡æ—¶å™¨èƒ½åšåˆ°ç²¾ç¡®è®¡æ—¶å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ.md\":\"7a7a68d8\",\"interview-question_for-in vs for-of.md\":\"f11d6dd5\",\"interview-question_å¸¸ç”¨çš„jså‡½æ•°.md\":\"d6e38c45\",\"interview-question_urlè½¬ç å’Œè§£ç .md\":\"7b0c45be\",\"interview-question_æ‰‹å†™promise.md\":\"0fbf14af\",\"interview-question_ä¹ç§è·¨åŸŸæ–¹å¼å®ç°åŸç†.md\":\"de63c981\",\"interview-question_dockerèµ·æ­¥.md\":\"7e8e11f4\",\"interview-question_npm linkåˆ›å»ºè½¯é“¾.md\":\"0973c3e9\",\"interview-question_reactå¸¸è§é¢è¯•é¢˜.md\":\"ad1fedf2\",\"interview-question_tsconfigé…ç½®.md\":\"91c8918f\",\"interview-question_interface å’Œ type çš„åŒºåˆ«.md\":\"8c4b0ff6\",\"interview-question_å‚¨è—stash.md\":\"a4b76ebf\",\"interview-question_å‰ç«¯éœ€è¦äº†è§£çš„nodejs.md\":\"fd9851db\",\"interview-question_nginxä»£ç†.md\":\"966d9c07\",\"interview-question_npmå¸¸ç”¨æ“ä½œ.md\":\"2cc859c3\",\"interview-question_è·¨é¡µé¢é€šä¿¡.md\":\"b881916c\",\"interview-question_type of å’Œ key of çš„åŒºåˆ«.md\":\"1e93e259\",\"interview-question_typescripté¢è¯•é¢˜é›†åˆ.md\":\"9c6e9614\",\"interview-question_void  å’Œ never  ç±»å‹çš„ åŒºåˆ«.md\":\"2829049f\",\"interview-question_webpackå¸¸è§é¢è¯•é¢˜.md\":\"54838e77\",\"interview-question_webpackä¸­çš„ä¸‰ç§hashåˆ†åˆ«æ˜¯ä»€ä¹ˆ.md\":\"efb9996f\",\"interview-question_æµ…æ‹·è´ä¸æ·±æ‹·è´.md\":\"223673b2\",\"interview-question_react hooks.md\":\"cc901b1d\",\"interview-question_webpack ç¼–è¯‘æ—¶æ ·å¼ç¾åŒ–.md\":\"c468068c\",\"interview-question_åŸºç¡€çŸ¥è¯†.md\":\"4bfb7dff\",\"interview-question_è®¾è®¡ä¸€ä¸ª js æ’ä»¶ç³»ç»Ÿ.md\":\"0b9d9c7e\",\"interview-question_å°ç¨‹åºä»£ç åŒ…æè‡´å‹ç¼©ä¹‹è·¯.md\":\"1fe10137\",\"interview-question_å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ.md\":\"6359cebc\",\"interview-question_å¾®ä¿¡å°ç¨‹åºä¸­è·¯ç”±è·³è½¬çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ.md\":\"ccbbdf63\",\"interview-question_å¾®ä¿¡å°ç¨‹åºçš„å‘å¸ƒæµç¨‹.md\":\"0cbda649\",\"interview-question_å¾®ä¿¡å°ç¨‹åºçš„å®ç°åŸç†.md\":\"e0f4c46c\",\"interview-question_å¾®ä¿¡å°ç¨‹åºçš„æ”¯ä»˜æµç¨‹.md\":\"a09af2c5\",\"interview-question_å¾®ä¿¡å°ç¨‹åºçš„ç†è§£.md\":\"33085dc0\",\"interview-question_vue3ä¸­æ“ä½œdomçš„å››ç§æ–¹å¼.md\":\"ac34a1d3\",\"interview-question_å¾®ä¿¡å°ç¨‹åºçš„ç™»å½•æµç¨‹.md\":\"6dfb8426\",\"interview-question_æé«˜å¾®ä¿¡å°ç¨‹åºçš„åº”ç”¨é€Ÿåº¦çš„æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿ.md\":\"01201a9b\",\"interview-question_requireåŠ è½½å™¨å®ç°åŸç†.md\":\"a48a60c8\",\"interview-question_å°ç¨‹åºé¢è¯•é¢˜.md\":\"4f9d9a0a\",\"interview-question_htmlä¼˜åŒ–.md\":\"576166cc\",\"interview-question_å‰ç«¯æ€§èƒ½ç›‘æ§performance.md\":\"ef83374c\",\"interview-question_requestanimationframe å’Œ requestidlecallback.md\":\"d8ce9ddb\",\"interview-question_å‡å°‘å¼•ç”¨ç±»å‹å†…å­˜è®¿é—®.md\":\"c446e985\",\"interview-question_é«˜çº§å‰ç«¯é¢è¯•(ä¸Š).md\":\"068803b7\",\"interview-question_é«˜çº§å‰ç«¯é¢è¯•(ä¸‹).md\":\"134b6a57\",\"interview-question_é«˜çº§å‰ç«¯é¢è¯•(ä¸­).md\":\"006b5372\",\"interview-question_30é“vue é¢è¯•é¢˜.md\":\"5d3bbed3\",\"interview-question_ç­–ç•¥æ¨¡å¼.md\":\"981b64f7\",\"interview-question_è£…é¥°å™¨æ¨¡å¼.md\":\"81bdf008\",\"interview-question_é«˜é¢‘å‰ç«¯é¢è¯•é¢˜åˆé›†ä¹‹javascriptç¯‡.md\":\"cc514fc1\",\"interview-question_unknown å’Œ  any çš„åŒºåˆ«.md\":\"29a5cfe1\",\"interview-question_å‘å¸ƒè®¢é˜…æ¨¡å¼.md\":\"8cf6dd45\",\"interview-question_ä»£ç†æ¨¡å¼.md\":\"32d05af9\",\"interview-question_çº¢ç»¿ç¯çš„ä¸¤ç§å®ç°.md\":\"f2d9a87b\",\"interview-question_è¯·æ±‚åˆå¹¶.md\":\"2929246b\",\"interview-question_å‰ç«¯å®ç°æ‹–æ‹½.md\":\"064f9080\",\"interview-question_å‰ç«¯æ°´å°åŠŸèƒ½.md\":\"b7ab392c\",\"interview-question_æ— æ„Ÿåˆ·æ–°token.md\":\"8d393819\",\"interview-question_å›¾ç‰‡æ‡’åŠ è½½.md\":\"d33cdf97\",\"interview-question_å¦‚ä½•å‡å°‘å¡é¡¿.md\":\"58d52a8c\",\"interview-question_å¦‚ä½•å®ç°å¹¶å‘è¯·æ±‚æ•°é‡æ§åˆ¶.md\":\"e84c0a6d\",\"interview-question_æœ€å…¨çš„å‰ç«¯æ€§èƒ½å®šä½æ€»ç»“.md\":\"2a3f20be\",\"interview-question_æ‡’åŠ è½½å’Œé¢„åŠ è½½.md\":\"02f219be\",\"interview-question_å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€äº›ä¼˜æƒ åˆ¸.md\":\"6b29faf3\",\"interview-question_å°ç¨‹åºæ”»ç•¥.md\":\"a91ecdd7\",\"interview-question_è¯´è¯´ä½ å¯¹ typescript çš„ç†è§£ï¼Ÿä¸ javascript çš„åŒºåˆ«ï¼Ÿ.md\":\"316a0117\",\"interview-question_è§‚å¯Ÿè€…æ¨¡å¼.md\":\"9d49fe2d\",\"interview-question_2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜ä¹‹htmlç¯‡.md\":\"97674f71\",\"interview-question_é€‚é…å™¨æ¨¡å¼.md\":\"d0b50610\",\"interview-question_2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜ä¹‹cssç¯‡.md\":\"f31470f4\",\"interview-question_å‰ç«¯é¢è¯•ä¸‡å­—æ€»ç»“ï¼ˆæµè§ˆå™¨ç½‘ç»œç¯‡ï¼‰.md\":\"0676f2a0\",\"interview-question_37ä¸ªå¸¸è§vueé¢è¯•é¢˜.md\":\"a25f9bff\",\"interview-question_å¸¸è§çš„å‰ç«¯ç®—æ³•é¢˜.md\":\"7a3bfdf9\",\"interview-question_å­—èŠ‚å‰ç«¯é¢è¯•é¢˜.md\":\"3daf0341\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"ä¸“æ³¨äºåˆ†äº«æœ€æœ‰ä»·å€¼çš„äº’è”ç½‘æŠ€æœ¯å¹²è´§\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"æå®¢éƒ¨è½\",\"outline\":\"deep\",\"outlineTitle\":\"æœ¬æ–‡ç›®å½•\",\"lastUpdatedText\":\"æœ€åæ›´æ–°\",\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"footer\":{\"message\":\"ç½‘ç«™åœ°å›¾ - å‹æƒ…é“¾æ¥ - ç‰ˆæƒè¯´æ˜ - ä¾µåˆ è”ç³» - çš–ICPå¤‡17005424å·-2\",\"copyright\":\"CopyRight Â© 2020-2023 <a target=\\\"_blank\\\" href=\\\"//geekbuluo.com\\\">æå®¢éƒ¨è½</a> All Rights Reserved\"},\"algolia\":{\"apiKey\":\"b537815b63bd12a83511061a06d783b9\",\"indexName\":\"doublexmio\",\"appId\":\"BH4D9OD16A\",\"placeholder\":\"è¯·è¾“å…¥å…³é”®è¯\",\"translations\":{\"button\":{\"buttonText\":\"æœç´¢æ–‡æ¡£\"}}},\"nav\":[{\"text\":\"ğŸ“š ä¹¦ç±æ¨è\",\"items\":[{\"text\":\"å‰ç«¯\",\"link\":\"/category?k=å‰ç«¯ä¹¦ç±æ¨è\"}]},{\"text\":\"å‰ç«¯é¢è¯•\",\"link\":\"/interview-question/HTMLåŸºç¡€\",\"activeMatch\":\"/interview-question/\"}],\"sidebar\":{\"/interview-question/\":[{\"text\":\"html\",\"items\":[{\"text\":\"åŸºç¡€\",\"link\":\"/interview-question/HTMLåŸºç¡€.md\"},{\"text\":\"DOCTYPE\",\"link\":\"/interview-question/DOCTYPE.md\"},{\"text\":\"metaæ ‡ç­¾çŸ¥è¯†\",\"link\":\"/interview-question/metaæ ‡ç­¾.md\"},{\"text\":\"13ä¸ªå¾ˆé…·ä½†å¾ˆå°‘æœ‰äººçŸ¥é“çš„HTMLå…ƒç´ \",\"link\":\"/interview-question/13ä¸ªå¾ˆé…·ä½†å¾ˆå°‘æœ‰äººçŸ¥é“çš„HTMLå…ƒç´ .md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"CSS\",\"items\":[{\"text\":\"åŸºç¡€\",\"link\":\"/interview-question/å‰ç«¯cssåŸºç¡€.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"JavaScript\",\"items\":[{\"text\":\"å¦‚ä½•ç†è§£ js çš„å¼‚æ­¥\",\"link\":\"/interview-question/JSå¼‚æ­¥.md\"},{\"text\":\"äº‹ä»¶å¾ªç¯\",\"link\":\"/interview-question/äº‹ä»¶å¾ªç¯.md\"},{\"text\":\"JS ä¸­çš„è®¡æ—¶å™¨èƒ½åšåˆ°ç²¾ç¡®è®¡æ—¶å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\",\"link\":\"/interview-question/JSä¸­çš„è®¡æ—¶å™¨èƒ½åšåˆ°ç²¾ç¡®è®¡æ—¶å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ.md\"},{\"text\":\"è·¨åŸŸ\",\"link\":\"/interview-question/ä¹ç§è·¨åŸŸæ–¹å¼å®ç°åŸç†.md\"},{\"text\":\"æµ…æ‹·è´ä¸æ·±æ‹·è´\",\"link\":\"/interview-question/æµ…æ‹·è´ä¸æ·±æ‹·è´.md\"},{\"text\":\"JSON-stringify\",\"link\":\"/interview-question/JSON stringifyç‰¹æ€§.md\"},{\"text\":\"URL è½¬ç  å’Œè§£ç \",\"link\":\"/interview-question/URLè½¬ç å’Œè§£ç .md\"},{\"text\":\"for-in vs for-of\",\"link\":\"/interview-question/for-in vs for-of.md\"},{\"text\":\"è·¨é¡µé¢é€šä¿¡\",\"link\":\"/interview-question/è·¨é¡µé¢é€šä¿¡.md\"},{\"text\":\"æ‰‹å†™å¸¸ç”¨å‡½æ•°\",\"link\":\"/interview-question/å¸¸ç”¨çš„jså‡½æ•°.md\"},{\"text\":\"æ‰‹å†™promise\",\"link\":\"/interview-question/æ‰‹å†™Promise.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"TypeScript\",\"items\":[{\"text\":\"è¯´è¯´ä½ å¯¹ TypeScript çš„ç†è§£ï¼Ÿä¸ JavaScript çš„åŒºåˆ«ï¼Ÿ\",\"link\":\"/interview-question/è¯´è¯´ä½ å¯¹ TypeScript çš„ç†è§£ï¼Ÿä¸ JavaScript çš„åŒºåˆ«ï¼Ÿ.md\"},{\"text\":\"tsconfig\",\"link\":\"/interview-question/tsconfigé…ç½®.md\"},{\"text\":\"typescripté¢è¯•é¢˜é›†åˆ\",\"link\":\"/interview-question/typescripté¢è¯•é¢˜é›†åˆ.md\"},{\"text\":\"interface å’Œ type çš„åŒºåˆ«\",\"link\":\"/interview-question/interface å’Œ type çš„åŒºåˆ«.md\"},{\"text\":\"unknown å’Œany çš„åŒºåˆ«\",\"link\":\"/interview-question/unknown å’Œ  any çš„åŒºåˆ«.md\"},{\"text\":\"type of å’Œ key of çš„åŒºåˆ«\",\"link\":\"/interview-question/type of å’Œ key of çš„åŒºåˆ«.md\"},{\"text\":\"void  å’Œ never  ç±»å‹çš„ åŒºåˆ«\",\"link\":\"/interview-question/void  å’Œ never  ç±»å‹çš„ åŒºåˆ«.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"å¾®ä¿¡å°ç¨‹åº\",\"items\":[{\"text\":\"å°ç¨‹åºé¢è¯•é¢˜\",\"link\":\"/interview-question/å°ç¨‹åºé¢è¯•é¢˜.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºçš„æ”»ç•¥\",\"link\":\"/interview-question/å°ç¨‹åºæ”»ç•¥.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºçš„ç†è§£\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºçš„ç†è§£.md\"},{\"text\":\"å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ\",\"link\":\"/interview-question/å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºä¸­è·¯ç”±è·³è½¬çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºä¸­è·¯ç”±è·³è½¬çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ.md\"},{\"text\":\"æé«˜å¾®ä¿¡å°ç¨‹åºçš„åº”ç”¨é€Ÿåº¦çš„æ‰‹æ®µæœ‰å“ªäº›\",\"link\":\"/interview-question/æé«˜å¾®ä¿¡å°ç¨‹åºçš„åº”ç”¨é€Ÿåº¦çš„æ‰‹æ®µæœ‰å“ªäº›ï¼Ÿ.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºçš„ç™»å½•æµç¨‹\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºçš„ç™»å½•æµç¨‹.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºçš„å‘å¸ƒæµç¨‹\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºçš„å‘å¸ƒæµç¨‹.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºçš„æ”¯ä»˜æµç¨‹\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºçš„æ”¯ä»˜æµç¨‹.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºçš„å®ç°åŸç†\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºçš„å®ç°åŸç†.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºä¼˜åŒ–\",\"link\":\"/interview-question/å°ç¨‹åºä»£ç åŒ…æè‡´å‹ç¼©ä¹‹è·¯.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"æ€§èƒ½ä¼˜åŒ–\",\"items\":[{\"text\":\"performance\",\"link\":\"/interview-question/å‰ç«¯æ€§èƒ½ç›‘æ§Performance.md\"},{\"text\":\"æœ€å…¨çš„å‰ç«¯æ€§èƒ½å®šä½æ€»ç»“ \",\"link\":\"/interview-question/æœ€å…¨çš„å‰ç«¯æ€§èƒ½å®šä½æ€»ç»“.md\"},{\"text\":\"HTMLä¼˜åŒ–\",\"link\":\"/interview-question/HTMLä¼˜åŒ–.md\"},{\"text\":\"å›¾ç‰‡æ‡’åŠ è½½\",\"link\":\"/interview-question/å›¾ç‰‡æ‡’åŠ è½½.md\"},{\"text\":\"å‡å°‘å¼•ç”¨ç±»å‹å†…å­˜è®¿é—®\",\"link\":\"/interview-question/å‡å°‘å¼•ç”¨ç±»å‹å†…å­˜è®¿é—®.md\"},{\"text\":\"ä½•å‡å°‘å¡é¡¿çš„ä»£ç \",\"link\":\"/interview-question/å¦‚ä½•å‡å°‘å¡é¡¿.md\"},{\"text\":\"å‰ç«¯æ‡’åŠ è½½å’Œé¢„åŠ è½½\",\"link\":\"/interview-question/æ‡’åŠ è½½å’Œé¢„åŠ è½½.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Vue\",\"items\":[{\"text\":\"Vue3ä¸­æ“ä½œdomçš„å››ç§æ–¹å¼\",\"link\":\"/interview-question/Vue3ä¸­æ“ä½œdomçš„å››ç§æ–¹å¼.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"React\",\"items\":[{\"text\":\"è‡ªå®šä¹‰hooks\",\"link\":\"/interview-question/react hooks.md\"},{\"text\":\"Reactçš„setStateæ˜¯å¼‚æ­¥çš„è¿˜æ˜¯åŒæ­¥çš„\",\"link\":\"/interview-question/reactå¸¸è§é¢è¯•é¢˜.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Webpack\",\"items\":[{\"text\":\"webpack\",\"link\":\"/interview-question/webpackå¸¸è§é¢è¯•é¢˜.md\"},{\"text\":\"hashçš„3ç§æ–¹å¼\",\"link\":\"/interview-question/webpackä¸­çš„ä¸‰ç§hashåˆ†åˆ«æ˜¯ä»€ä¹ˆ.md\"},{\"text\":\"webpack ç¼–è¯‘æ—¶æ ·å¼ç¾åŒ–\",\"link\":\"/interview-question/webpack ç¼–è¯‘æ—¶æ ·å¼ç¾åŒ–.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Node\",\"items\":[{\"text\":\"å‰ç«¯éœ€è¦äº†è§£çš„nodejsçŸ¥è¯†\",\"link\":\"/interview-question/å‰ç«¯éœ€è¦äº†è§£çš„nodejs.md\"},{\"text\":\"requireåŠ è½½å™¨å®ç°åŸç† \",\"link\":\"/interview-question/requireåŠ è½½å™¨å®ç°åŸç†.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"npm\",\"items\":[{\"text\":\"å¸¸ç”¨æ“ä½œ\",\"link\":\"/interview-question/npmå¸¸ç”¨æ“ä½œ.md\"},{\"text\":\"link åˆ›å»ºè½¯é“¾\",\"link\":\"/interview-question/npm linkåˆ›å»ºè½¯é“¾.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"è®¾è®¡æ¨¡å¼ \",\"items\":[{\"text\":\"å‘å¸ƒè®¢é˜…æ¨¡å¼\",\"link\":\"/interview-question/å‘å¸ƒè®¢é˜…æ¨¡å¼.md\"},{\"text\":\"è§‚å¯Ÿè€…æ¨¡å¼\",\"link\":\"/interview-question/è§‚å¯Ÿè€…æ¨¡å¼.md\"},{\"text\":\"ä»£ç†æ¨¡å¼\",\"link\":\"/interview-question/ä»£ç†æ¨¡å¼.md\"},{\"text\":\"è£…é¥°å™¨æ¨¡å¼\",\"link\":\"/interview-question/è£…é¥°å™¨æ¨¡å¼.md\"},{\"text\":\"é€‚é…å™¨æ¨¡å¼\",\"link\":\"/interview-question/é€‚é…å™¨æ¨¡å¼.md\"},{\"text\":\"ç­–ç•¥æ¨¡å¼\",\"link\":\"/interview-question/ç­–ç•¥æ¨¡å¼.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"git\",\"items\":[{\"text\":\"å‚¨è— stash\",\"link\":\"/interview-question/gitåŸºæœ¬æ“ä½œ.md\"},{\"text\":\"å¸¸ç”¨å‘½ä»¤\",\"link\":\"/interview-question/gitå¸¸ç”¨å‘½ä»¤.md\"},{\"text\":\"å·¥ä½œåŒº&æš‚å­˜åŒºçš„æ“ä½œå‘½ä»¤\",\"link\":\"/interview-question/gitå·¥ä½œåŒº&æš‚å­˜åŒºçš„æ“ä½œå‘½ä»¤.md\"},{\"text\":\"æœ¬åœ°ä»“åº“ä¸Šçš„æ“ä½œ&gitignore\",\"link\":\"/interview-question/å‚¨è—stash.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Nginx \",\"items\":[{\"text\":\"Nginx\",\"link\":\"/interview-question/nginxä»£ç†.md\"},{\"text\":\"åŸºç¡€çŸ¥è¯†\",\"link\":\"/interview-question/åŸºç¡€çŸ¥è¯†.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"Docker\",\"items\":[{\"text\":\"Dockeræ¦‚å¿µ\",\"link\":\"/interview-question/dockeræ¦‚å¿µ.md\"},{\"text\":\"Dockerä»‹ç»\",\"link\":\"/interview-question/dockerèµ·æ­¥.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"åœºæ™¯é¢˜\",\"items\":[{\"text\":\"å¹¶å‘è¯·æ±‚æ•°é‡æ§åˆ¶\",\"link\":\"/interview-question/å¦‚ä½•å®ç°å¹¶å‘è¯·æ±‚æ•°é‡æ§åˆ¶.md\"},{\"text\":\"ã€è¯‘ã€‘è®¾è®¡ä¸€ä¸ª JS æ’ä»¶ç³»ç»Ÿ \",\"link\":\"/interview-question/è®¾è®¡ä¸€ä¸ª JS æ’ä»¶ç³»ç»Ÿ.md\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€äº›ä¼˜æƒ åˆ¸/å¡åˆ¸\",\"link\":\"/interview-question/å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€äº›ä¼˜æƒ åˆ¸.md\"},{\"text\":\"æ— æ„Ÿåˆ·æ–°token\",\"link\":\"/interview-question/æ„Ÿåˆ·æ–°token.md\"},{\"text\":\"æ–‡æœ¬ç¯ç»•çƒä½“\",\"link\":\"/interview-question/\"},{\"text\":\"å‰ç«¯æ°´å°åŠŸèƒ½\",\"link\":\"/interview-question/å‰ç«¯æ°´å°åŠŸèƒ½.md\"},{\"text\":\"EventLoop\",\"link\":\"/interview-question/\"},{\"text\":\"è¯·æ±‚åˆå¹¶\",\"link\":\"/interview-question/è¯·æ±‚åˆå¹¶.md\"},{\"text\":\"æ‹–æ‹½çš„å®ç°\",\"link\":\"/interview-question/å‰ç«¯å®ç°æ‹–æ‹½.md\"},{\"text\":\"çº¢ç»¿ç¯\",\"link\":\"/interview-question/çº¢ç»¿ç¯çš„ä¸¤ç§å®ç°.md\"},{\"text\":\"requestAnimationFrame å’Œ requestIdleCallback\",\"link\":\"/interview-question/requestAnimationFrame å’Œ requestIdleCallback.md\"}],\"collapsible\":true,\"collapsed\":true},{\"text\":\"å‰ç«¯é¢è¯•é¢˜çº²é›†åˆ\",\"items\":[{\"text\":\"30é“Vueé¢è¯•é¢˜\",\"link\":\"/interview-question/30é“Vue é¢è¯•é¢˜.md\"},{\"text\":\"å­—èŠ‚å‰ç«¯é¢è¯•é¢˜\",\"link\":\"/interview-question/å­—èŠ‚å‰ç«¯é¢è¯•é¢˜.md\"},{\"text\":\"37ä¸ªå¸¸è§Vueé¢è¯•é¢˜\",\"link\":\"/interview-question/37ä¸ªå¸¸è§Vueé¢è¯•é¢˜.md\"},{\"text\":\"2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜(HTML)\",\"link\":\"/interview-question/2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜ä¹‹HTMLç¯‡.md\"},{\"text\":\"2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜(CSS)\",\"link\":\"/interview-question/2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜ä¹‹CSSç¯‡.md\"},{\"text\":\"2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜(JavaSript)\",\"link\":\"/interview-question/é«˜é¢‘å‰ç«¯é¢è¯•é¢˜åˆé›†ä¹‹JavaScriptç¯‡.md\"},{\"text\":\"é«˜çº§å‰ç«¯é¢è¯•é¢˜(ä¸Š)\",\"link\":\"/interview-question/é«˜çº§å‰ç«¯é¢è¯•(ä¸Š).md\"},{\"text\":\"é«˜çº§å‰ç«¯é¢è¯•é¢˜(ä¸­)\",\"link\":\"/interview-question/é«˜çº§å‰ç«¯é¢è¯•(ä¸‹).md\"},{\"text\":\"é«˜çº§å‰ç«¯é¢è¯•é¢˜(ä¸‹)\",\"link\":\"/interview-question/é«˜çº§å‰ç«¯é¢è¯•(ä¸­).md\"},{\"text\":\"å¸¸è§çš„å‰ç«¯ç®—æ³•é¢˜\",\"link\":\"/interview-question/å¸¸è§çš„å‰ç«¯ç®—æ³•é¢˜.md\"},{\"text\":\"å‰ç«¯é¢è¯•ï¼ˆæµè§ˆå™¨ï¼‰\",\"link\":\"/interview-question/å‰ç«¯é¢è¯•ä¸‡å­—æ€»ç»“ï¼ˆæµè§ˆå™¨ç½‘ç»œç¯‡ï¼‰.md\"}],\"collapsible\":true,\"collapsed\":true}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>